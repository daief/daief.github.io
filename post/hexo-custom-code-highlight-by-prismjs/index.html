<!DOCTYPE html><html ssthtmlattrs="" lang="en"><head>
    <title>使用 prismjs 自定义 Hexo 代码高亮 | Daief's Blog</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--ssr-head-partial-->
    <script>
      if (/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
        // redirect IE to Edge
        // This browser is no longer supported
        window.location.href = 'microsoft-edge:' + window.location.href;
        alert('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
        throw new Error('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
      }
    </script>
    <script type="module" crossorigin="" src="/assets/app-DvX1Smg_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-lBf8QYnm.css">
  <link rel="modulepreload" crossorigin="" href="/assets/vm__post_hexo-custom-code-highlight-by-prismjs_-ChUrlSzX.js"><link rel="stylesheet" href="/assets/vm__post_hexo-custom-code-highlight-by-prismjs_-CbzrmrQB.css"><link rel="modulepreload" crossorigin="" href="/assets/meta-info-C-tMy3g2.js"><link rel="modulepreload" crossorigin="" href="/assets/toc-DNILfFl5.js"><link rel="stylesheet" href="/assets/toc-m8VwwUnR.css"><meta name="description" content=""><meta property="og:title" content="使用 prismjs 自定义 Hexo 代码高亮 | Daief's Blog"><meta property="og:description" content=""><meta property="og:image" content="https://avatars.githubusercontent.com/u/19222089?v=4"><meta name="author" content="daief"></head>
  <body ssrbodyattrs="">
    <div class="page-bg-gradient pointer-events-none fixed start-0 top-0 z-[-1] h-screen w-full"></div>
    <div id="app" data-server-rendered="true"><!--[--><div class="flex flex-col min-h-screen transition-colors duration-300"><header data-v-c69b61b1=""><div id="nav-container" class="max-w-app mx-auto text-foreground sm:bg-transparent" data-v-c69b61b1=""><div id="top-nav-wrap" class="relative grid grid-cols-2 auto-rows-auto w-full items-center justify-between p-4 sm:py-6 sm:flex sm:grid-rows-1" data-v-c69b61b1=""><a href="/" class="py-1 text-xl leading-8 font-semibold whitespace-nowrap sm:my-auto sm:text-2xl sm:leading-none" data-v-c69b61b1=""><!--[-->Daief's Blog<!--]--></a><div class="flex-center justify-end space-x-4 sm:hidden" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button><a role="button" class="text-2xl p-1" data-v-c69b61b1=""><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c69b61b1=""><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg></a></div><nav id="nav-menu" class="col-start-1 col-end-3 w-full flex-col items-center static top-full left-0 right-0 z-10 mt-4 sm:mt-0 sm:ms-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0 sm:flex hidden" data-v-c69b61b1=""><ul id="menu-items" class="w-full place-content-center gap-2 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0" data-v-c69b61b1=""><!--[--><li class="col-span-2" data-v-c69b61b1=""><a href="/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1 nav-active" data-v-c69b61b1=""><!--[-->文章<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/tags/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->标签<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/about/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->关于<!--]--></a></li><!--]--><li class="col-span-1 hidden sm:block" data-v-c69b61b1=""><a class="flex justify-center items-center h-full px-4 py-3 sm:px-2 sm:py-1" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button></a></li></ul></nav></div></div><div class="mx-auto max-w-app px-4" data-v-c69b61b1=""><hr class="border-border" aria-hidden="true" data-v-c69b61b1=""></div></header><main class="flex-grow max-w-app mx-auto px-4 py-8 w-full text-foreground"><!--[--><div class="relative" data-v-bd784f64=""><article data-v-bd784f64=""><header data-v-bd784f64=""><h1 class="text-foreground text-3xl font-bold mb-4" data-v-bd784f64=""> 使用 prismjs 自定义 Hexo 代码高亮 </h1><div class="flex items-center gap-x-3.5 gap-y-0.5 text-foreground opacity-80 flex-wrap" data-v-bd784f64=""><!--[--><!--[--><div class="inline-flex items-center gap-x-0.5 whitespace-nowrap"><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M7 11h2v2H7zm14-6v14c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2M5 7h14V5H5zm14 12V9H5v10zm-4-6v-2h2v2zm-4 0v-2h2v2zm-4 2h2v2H7zm8 2v-2h2v2zm-4 0v-2h2v2z"></path></svg><span>发表于：<time datetime="2020-03-23T16:50:24.000Z">2020/03/23</time></span></div><!--[--><a href="/tags/Blog/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>Blog</a><a href="/tags/Hexo/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>Hexo</a><!--]--><!--]--><!--]--></div></header><div class="md-prose max-w-none dark:prose-invert mt-6" data-v-bd784f64=""><!--[--><p data-v-bd784f64="">一直就想优化一下 Hexo 的代码高亮部分来着，对 <code data-v-bd784f64="">ts</code>、<code data-v-bd784f64="">tsx</code> 部分的支持一直不太好；也许直接更新 Next 就能直接解决，但博客部分已经魔改了不少，本着这个原则就继续魔改下去好了。</p><blockquote data-v-bd784f64=""><p data-v-bd784f64="">本站是在 Next 5 的基础上建成的，不过本文内容与 Next 5 的关系不大</p></blockquote><a id="more" href="#more" class="block" data-v-bd784f64=""></a><h2 id="%E9%87%8D%E5%86%99%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%20render" data-v-bd784f64="">重写代码块的 render<a name="%E9%87%8D%E5%86%99%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%20render" class="headerlink" href="#%E9%87%8D%E5%86%99%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%20render" data-v-bd784f64=""></a></h2><p data-v-bd784f64="">我使用了 <a href="https://github.com/hexojs/hexo-renderer-marked" target="_blank" class="" data-v-bd784f64=""><!--[-->hexo-renderer-marked<!--]--></a> 插件，这个插件的作用就是将 <code data-v-bd784f64="">Markdown</code> 文件渲染成 <code data-v-bd784f64="">HTML</code>。</p><p data-v-bd784f64="">查阅文档，发现 <code data-v-bd784f64="">hexo-renderer-marked</code> 提供了扩展 <a href="https://github.com/chjj/marked" target="_blank" class="" data-v-bd784f64=""><!--[-->marked<!--]--></a> 插件的功能，<code data-v-bd784f64="">marked</code> 是真正进行 Markdown 转换的工具。</p><blockquote data-v-bd784f64=""><p data-v-bd784f64="">目前（<a href="mailto:hexo-renderer-marked@2.0.0" target="_blank" class="" data-v-bd784f64=""><!--[-->hexo-renderer-marked@2.0.0<!--]--></a> 版本）暂未实现该功能，不过主分支上已经支持了，所以我暂时是直接使用了主分支上的代码。</p></blockquote><p data-v-bd784f64=""><code data-v-bd784f64="">package.json</code> 中可以这么写：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">{</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">  "devDependencies"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-bd784f64="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> {</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">    // ...</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">    "hexo-renderer-marked"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-bd784f64="">https://github.com/hexojs/hexo-renderer-marked#40d8ca4532363dba74da7661335bbd8eea689cea</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">    // ...</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">  }</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">}</span></span></code></pre><p data-v-bd784f64="">不过在重写之前需要关闭默认的 highlight 功能，在根目录下 <code data-v-bd784f64="">_config.yml</code> 修改：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">highlight:</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478FF;" data-v-bd784f64="">+</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C5E478FF;--shiki-dark-font-style:italic;" data-v-bd784f64="">  enable: false</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#EF535090;" data-v-bd784f64="">-</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#EF535090;--shiki-dark-font-style:italic;" data-v-bd784f64="">  enable: true</span></span></code></pre><p data-v-bd784f64="">那么事情就简单了，在 <code data-v-bd784f64="">scripts</code> 下创建脚本，命名随意，我将其放在了 <code data-v-bd784f64="">themes/next/scripts/daief/highlight.js</code>：</p><blockquote data-v-bd784f64=""><p data-v-bd784f64=""><code data-v-bd784f64="">scripts</code> 下的脚本会在 Hexo 运行时自动被加载，可在此实现一些自定义的插件等。</p></blockquote><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">/**</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64=""> * 借助 hexo-renderer-marked 扩展，自定义渲染 code</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64=""> * ref：https://github.com/hexojs/hexo-renderer-marked/blob/master/README.md#extensibility</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64=""> */</span></span>
<span class="line" data-v-bd784f64=""></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> prism</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">prismjs</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">);</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> loadLanguages</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">prismjs/components/index</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">);</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">loadLanguages</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">();</span></span>
<span class="line" data-v-bd784f64=""></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> escapeHtml</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-bd784f64="">str</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64="">  str</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">replace</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">    /</span><span style="--shiki-light:#22863A;--shiki-dark:#82AAFF;" data-v-bd784f64="">[</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">&amp;&lt;&gt;'"</span><span style="--shiki-light:#22863A;--shiki-dark:#82AAFF;" data-v-bd784f64="">]</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">/</span><span style="--shiki-light:#D32F2F;--shiki-dark:#5CA7E4;" data-v-bd784f64="">g</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64="">    (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-bd784f64="">tag</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">      (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">{</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">        '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;amp;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">        '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">        '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&gt;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;gt;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">        "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">        '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&amp;quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">      }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">tag</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64=""> tag</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">)</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">  );</span></span>
<span class="line" data-v-bd784f64=""></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64="">hexo</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic;" data-v-bd784f64="">extend</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic;" data-v-bd784f64="">filter</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">register</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">marked:renderer</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-bd784f64="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">renderer</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> {</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">  // 定义 renderer.code 来自定义代码块的解析行为</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64="">  renderer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">code</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">sourceCode</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-bd784f64="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64=""> language</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-bd784f64="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> {</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">    const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> codeResult</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64="">      prism</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-bd784f64="">languages</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">language</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> &amp;&amp;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64=""> sourceCode</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">        ?</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64=""> prism</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64="">highlight</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">sourceCode</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-bd784f64="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64=""> prism</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#BAEBE2;" data-v-bd784f64="">languages</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">language</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">])</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64="">        :</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> escapeHtml</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">sourceCode</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">);</span></span>
<span class="line" data-v-bd784f64=""></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">    return</span><span style="--shiki-light:#22863A;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> `</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&lt;pre class="line-numbers language-</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D3423E;" data-v-bd784f64="">${</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">language</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D3423E;" data-v-bd784f64="">}</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">"&gt;&lt;code&gt;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D3423E;" data-v-bd784f64="">${</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-bd784f64="">codeResult</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D3423E;" data-v-bd784f64="">}</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">&lt;/code&gt;&lt;/pre&gt;</span><span style="--shiki-light:#22863A;--shiki-dark:#D6DEEB;" data-v-bd784f64="">`</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">  };</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">});</span></span></code></pre><p data-v-bd784f64="">该脚本的功能就是使用 <a href="https://github.com/PrismJS/prism" target="_blank" class="" data-v-bd784f64=""><!--[-->prismjs<!--]--></a> 来解析代码块，重写默认的行为。</p><h2 id="%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6" data-v-bd784f64="">添加样式文件<a name="%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6" class="headerlink" href="#%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6" data-v-bd784f64=""></a></h2><p data-v-bd784f64="">在主题配置文件（<code data-v-bd784f64="">themes/next/_config.yml</code>）下添加一个自定义选项 <code data-v-bd784f64="">prismjs</code>，这样一来版本的维护就比较方便了：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478FF;" data-v-bd784f64="">+</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C5E478FF;--shiki-dark-font-style:italic;" data-v-bd784f64=""> prismjs: https://cdn.jsdelivr.net/npm/prismjs@1.19.0</span></span></code></pre><p data-v-bd784f64="">自己添加的东西最好跟库分开，Next 也已经考虑到了这一点，如果需要在每个页面的 <code data-v-bd784f64="">&lt;head&gt;</code> 中添加内容，只需在 <code data-v-bd784f64="">themes/next/layout/_partials/head/custom-head.swig</code> 中编辑即可，<code data-v-bd784f64="">prismjs</code> 的样式也在此处添加：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">&lt;!-- prismjs style --&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">link</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">  rel</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">stylesheet</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">  href</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">{% raw %}{{ theme.prismjs }}{% endraw %}/plugins/line-numbers/prism-line-numbers.css</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">/&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">link</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">  rel</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">stylesheet</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">  href</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">{% raw %}{{ theme.prismjs }}{% endraw %}/themes/prism.css</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">/&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#6F42C1;--shiki-dark:#C5E478;" data-v-bd784f64="">  .</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">code</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">[</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">*=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">language-</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">]</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-bd784f64="">,</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#22863A;--shiki-dark:#FF6363;" data-v-bd784f64="">  pre</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">[</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64="">class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">*=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">language-</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-bd784f64="">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> {</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-dark:#80CBC4;" data-v-bd784f64="">    font-size</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-bd784f64="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-bd784f64=""> 13</span><span style="--shiki-light:#D32F2F;--shiki-dark:#FFEB95;" data-v-bd784f64="">px</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-dark:#80CBC4;" data-v-bd784f64="">    padding-top</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-bd784f64="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-bd784f64=""> 10</span><span style="--shiki-light:#D32F2F;--shiki-dark:#FFEB95;" data-v-bd784f64="">px</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> !important</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-dark:#80CBC4;" data-v-bd784f64="">    padding-bottom</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-bd784f64="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-bd784f64=""> 10</span><span style="--shiki-light:#D32F2F;--shiki-dark:#FFEB95;" data-v-bd784f64="">px</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> !important</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">  }</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span></code></pre><h2 id="%E6%B7%BB%E5%8A%A0%E8%A1%8C%E5%8F%B7%EF%BC%88%E6%88%96%E6%98%AF%E5%85%B6%E4%BB%96%20prismjs%20%E6%8F%92%E4%BB%B6%EF%BC%89" data-v-bd784f64="">添加行号（或是其他 prismjs 插件）<a name="%E6%B7%BB%E5%8A%A0%E8%A1%8C%E5%8F%B7%EF%BC%88%E6%88%96%E6%98%AF%E5%85%B6%E4%BB%96%20prismjs%20%E6%8F%92%E4%BB%B6%EF%BC%89" class="headerlink" href="#%E6%B7%BB%E5%8A%A0%E8%A1%8C%E5%8F%B7%EF%BC%88%E6%88%96%E6%98%AF%E5%85%B6%E4%BB%96%20prismjs%20%E6%8F%92%E4%BB%B6%EF%BC%89" data-v-bd784f64=""></a></h2><blockquote data-v-bd784f64=""><p data-v-bd784f64="">这一步有点坑，我期望的是在构建阶段就完成代码块标签的解析，最终页面在浏览器中展示时只需添加样式支持即可。</p><p data-v-bd784f64="">HTML 解析已经成功在构建阶段完成了，但像行号以及一些其他 prismjs 插件的功能则需要在浏览器中进行。如果仅仅是在浏览中多加一次调用插件的步骤也就算了，可偏偏插件的触发是在 prismjs 的 hooks 中绑死的；</p><p data-v-bd784f64="">若是想正常触发 prismjs 的 hooks，那么 prismjs 会在浏览器当中对代码块再次进行解析（这里的意思是假如此时 HTML 没有提前处理，将纯文本的代码块传给 prismjs，prismjs 也能解析出操作符、关键字并包裹上相应的标签和类名），也就是说第一步重写代码块解析的步骤就相当于白费了；</p><p data-v-bd784f64="">可在浏览器当中解析的结果竟与构建阶段的解析会有不同，有些高亮会有问题；奈何行号插件只能运行在浏览器，同时又不想改太多，最终还是按照 prismjs 官方推荐的方式来使用了。</p><p data-v-bd784f64="">如果可能大概以后有空的话再来优化一下吧。</p></blockquote><p data-v-bd784f64="">行号插件需要在 HTML 中添加 <code data-v-bd784f64="">line-numbers</code> 类名以进行标注，这一步在重写代码块的解析过程中（提前解析并不是白费的，确信！）已经完成。</p><p data-v-bd784f64="">同样本着自定义内容分离的原则，先在 <code data-v-bd784f64="">themes/next/layout/_layout.swig</code> 中新增：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478FF;" data-v-bd784f64="">+</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C5E478FF;--shiki-dark-font-style:italic;" data-v-bd784f64="">  {% raw %}{% include '_custom/page-tail.swig' %}{% endraw %}</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">&lt;/body&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64="">&lt;/html&gt;</span></span></code></pre><p data-v-bd784f64="">接着创建 <code data-v-bd784f64="">themes/next/layout/_custom/page-tail.swig</code> 并添加以下内容，参照官方文档来即可：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-bd784f64=""><code data-v-bd784f64=""><span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">&lt;!--</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">prismjs 功能</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">ref：https://prismjs.com/#basic-usage</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">--&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64="">  window</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#BAEBE2;" data-v-bd784f64="">Prism</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-bd784f64=""> window</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-bd784f64="">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#BAEBE2;" data-v-bd784f64="">Prism</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-bd784f64=""> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-bd784f64=""> {};</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">  // 打开注释的话就不会自动处理了</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-bd784f64="">  // window.Prism.manual = true;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64=""> src</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">{% raw %}{{ theme.prismjs }}{% endraw %}/components/prism-core.min.js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64=""> src</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">{% raw %}{{ theme.prismjs }}{% endraw %}/plugins/autoloader/prism-autoloader.min.js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span>
<span class="line" data-v-bd784f64=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-bd784f64=""> src</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-bd784f64="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-bd784f64="">{% raw %}{{ theme.prismjs }}{% endraw %}/plugins/line-numbers/prism-line-numbers.min.js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-bd784f64="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-bd784f64="">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-bd784f64="">&gt;</span></span></code></pre><h2 id="%E7%BB%93%E8%AF%AD" data-v-bd784f64="">结语<a name="%E7%BB%93%E8%AF%AD" class="headerlink" href="#%E7%BB%93%E8%AF%AD" data-v-bd784f64=""></a></h2><p data-v-bd784f64="">这么一来就结束了，这么个处理，还是有点不满意的；不过现在至少能支持 <code data-v-bd784f64="">ts</code>、<code data-v-bd784f64="">tsx</code> 了，这样暂且就够了。</p><p data-v-bd784f64="">完。</p><!--]--></div></article><aside class="pointer-events-none fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300 lg:pointer-events-auto lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]" data-v-bd784f64=""><nav class="overflow-y-auto text-foreground overscroll-contain bg-background w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl absolute top-0 transition-300 right-0 translate-x-full lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0" data-v-bd784f64=""><h2 class="mb-2 font-bold lg:hidden" data-v-bd784f64="">TABLE OF CONTENTS</h2><ul class="group/root" data-v-bd784f64=""><!--[--><li><a href="#%E9%87%8D%E5%86%99%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%20render" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="重写代码块的 render">重写代码块的 render</span></a><!----></li><li><a href="#%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="添加样式文件">添加样式文件</span></a><!----></li><li><a href="#%E6%B7%BB%E5%8A%A0%E8%A1%8C%E5%8F%B7%EF%BC%88%E6%88%96%E6%98%AF%E5%85%B6%E4%BB%96%20prismjs%20%E6%8F%92%E4%BB%B6%EF%BC%89" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="添加行号（或是其他 prismjs 插件）">添加行号（或是其他 prismjs 插件）</span></a><!----></li><li><a href="#%E7%BB%93%E8%AF%AD" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="结语">结语</span></a><!----></li><!--]--></ul></nav></aside></div><hr class="border-border mt-10" data-v-bd784f64=""><div class="mt-10" data-v-bd784f64=""><div data-v-bd784f64=""><h2 class="text-xl font-bold mb-5"><a href="#comment" class="text-accent foreground-link">留言板</a></h2><div class="utterances-wrapper"></div></div></div><!--]--></main><footer class="text-center py-6 text-gray-500 dark:text-gray-400 text-sm"><div><span>© 2017-2025 Daief's Blog</span></div></footer><div></div></div><!--]--></div>
<script>window.__INITIAL_STATE__="{\"naiveUiStyles\":\"\"}"</script>
  

</body></html>