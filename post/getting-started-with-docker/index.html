<!DOCTYPE html><html ssthtmlattrs="" lang="en"><head>
    <title>Docker 入门笔记 | Daief's Blog</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--ssr-head-partial-->
    <script>
      if (/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
        // redirect IE to Edge
        // This browser is no longer supported
        window.location.href = 'microsoft-edge:' + window.location.href;
        alert('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
        throw new Error('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
      }
    </script>
    <script type="module" crossorigin="" src="/assets/app-DvX1Smg_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-lBf8QYnm.css">
  <link rel="modulepreload" crossorigin="" href="/assets/vm__post_getting-started-with-docker_-8AiSYHCe.js"><link rel="stylesheet" href="/assets/vm__post_getting-started-with-docker_-BnfQIk8s.css"><link rel="modulepreload" crossorigin="" href="/assets/meta-info-C-tMy3g2.js"><link rel="modulepreload" crossorigin="" href="/assets/toc-DNILfFl5.js"><link rel="stylesheet" href="/assets/toc-m8VwwUnR.css"><meta name="description" content=""><meta property="og:title" content="Docker 入门笔记 | Daief's Blog"><meta property="og:description" content=""><meta property="og:image" content="https://avatars.githubusercontent.com/u/19222089?v=4"><meta name="author" content="daief"></head>
  <body ssrbodyattrs="">
    <div class="page-bg-gradient pointer-events-none fixed start-0 top-0 z-[-1] h-screen w-full"></div>
    <div id="app" data-server-rendered="true"><!--[--><div class="flex flex-col min-h-screen transition-colors duration-300"><header data-v-c69b61b1=""><div id="nav-container" class="max-w-app mx-auto text-foreground sm:bg-transparent" data-v-c69b61b1=""><div id="top-nav-wrap" class="relative grid grid-cols-2 auto-rows-auto w-full items-center justify-between p-4 sm:py-6 sm:flex sm:grid-rows-1" data-v-c69b61b1=""><a href="/" class="py-1 text-xl leading-8 font-semibold whitespace-nowrap sm:my-auto sm:text-2xl sm:leading-none" data-v-c69b61b1=""><!--[-->Daief's Blog<!--]--></a><div class="flex-center justify-end space-x-4 sm:hidden" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button><a role="button" class="text-2xl p-1" data-v-c69b61b1=""><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c69b61b1=""><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg></a></div><nav id="nav-menu" class="col-start-1 col-end-3 w-full flex-col items-center static top-full left-0 right-0 z-10 mt-4 sm:mt-0 sm:ms-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0 sm:flex hidden" data-v-c69b61b1=""><ul id="menu-items" class="w-full place-content-center gap-2 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0" data-v-c69b61b1=""><!--[--><li class="col-span-2" data-v-c69b61b1=""><a href="/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1 nav-active" data-v-c69b61b1=""><!--[-->文章<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/tags/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->标签<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/about/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->关于<!--]--></a></li><!--]--><li class="col-span-1 hidden sm:block" data-v-c69b61b1=""><a class="flex justify-center items-center h-full px-4 py-3 sm:px-2 sm:py-1" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button></a></li></ul></nav></div></div><div class="mx-auto max-w-app px-4" data-v-c69b61b1=""><hr class="border-border" aria-hidden="true" data-v-c69b61b1=""></div></header><main class="flex-grow max-w-app mx-auto px-4 py-8 w-full text-foreground"><!--[--><div class="relative" data-v-11d1a840=""><article data-v-11d1a840=""><header data-v-11d1a840=""><h1 class="text-foreground text-3xl font-bold mb-4" data-v-11d1a840=""> Docker 入门笔记 </h1><div class="flex items-center gap-x-3.5 gap-y-0.5 text-foreground opacity-80 flex-wrap" data-v-11d1a840=""><!--[--><!--[--><div class="inline-flex items-center gap-x-0.5 whitespace-nowrap"><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M7 11h2v2H7zm14-6v14c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2M5 7h14V5H5zm14 12V9H5v10zm-4-6v-2h2v2zm-4 0v-2h2v2zm-4 2h2v2H7zm8 2v-2h2v2zm-4 0v-2h2v2z"></path></svg><span>发表于：<time datetime="2019-07-01T19:52:55.000Z">2019/07/01</time></span></div><!--[--><a href="/tags/Docker/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>Docker</a><!--]--><!--]--><!--]--></div></header><div class="md-prose max-w-none dark:prose-invert mt-6" data-v-11d1a840=""><!--[--><p data-v-11d1a840="">本文是学习 Docker 时的初学者记录，内容是关于 Docker 基本命令的使用。如果您对此已经熟悉，大可略过本文。</p><a id="more" href="#more" class="block" data-v-11d1a840=""></a><p data-v-11d1a840="">Docker 是什么？我将其简单理解为一种容器技术。我尝试用以下场景来描述这个技术。</p><p data-v-11d1a840="">常常会有这样的情况，将代码分享给别人，别人却跑不起来。而在代码相同的情况下，这往往是环境差异导致的，也就是常说的“这在我电脑上是好的”。那么，换一种方式。我将代码的结果（比如一些需构建的项目结果）、各种配置（环境变量、项目配置）放进一种可运行的容器中；而后，确保该容器可正常运行；最后，将容器分享给他人。此时，他人只需要启动容器即可。</p><p data-v-11d1a840="">Docker 就是这么一种技术。实际上，用于分享的是 image（镜像），container（容器）通过 image 生成、运行于本机，最终的项目也是运行于容器当中。接下来可以看看<a href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" class="" data-v-11d1a840=""><!--[-->阮一峰<!--]--></a>更为专业、清晰的描述：</p><blockquote data-v-11d1a840=""><p data-v-11d1a840="">Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容器解决方案。</p><p data-v-11d1a840="">Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。</p><p data-v-11d1a840="">总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。</p></blockquote><h2 id="%E5%AE%89%E8%A3%85" data-v-11d1a840="">安装<a name="%E5%AE%89%E8%A3%85" class="headerlink" href="#%E5%AE%89%E8%A3%85" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">目前的系统是 macOS Mojave，所以直接通过 brew 安装。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> brew</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> cask</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> install</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span></span></code></pre><h2 id="%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5" data-v-11d1a840="">容器的增、删、查<a name="%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5" class="headerlink" href="#%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">首先学习一下基本操作。</p><p data-v-11d1a840="">启动一个 Nginx 的镜像（下一节对此有说明），官方镜像名为 <code data-v-11d1a840="">nginx</code>。如果本地没有该镜像，Docker 会自动进行拉取再启动。注意，不添加 <code data-v-11d1a840="">--rm</code> 的每次启动都会创建一个新的容器。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> run</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx</span></span></code></pre><p data-v-11d1a840="">此时启动的进程是常驻控制台的，可以通过以下命令在后台的方式启动。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 使用 -d 可设置容器在后台运行</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> run</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -d</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx</span></span></code></pre><p data-v-11d1a840="">查看容器。可以看到容器 ID、对应的镜像、状态等信息。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 添加 -a 列出所有容器</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 默认只列出本机正在运行的容器</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ps</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -a</span></span>
<span class="line" data-v-11d1a840=""></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">CONTAINER</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ID</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        IMAGE</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               COMMAND</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                  CREATED</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              STATUS</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                      PORTS</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               NAMES</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">9752e761d34d</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        nginx</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">               "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-11d1a840="">nginx -g 'daemon of…</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">"</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">   32</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">       Exited</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-11d1a840=""> (0) 22 seconds ago                       brave_noether</span></span></code></pre><p data-v-11d1a840="">查看镜像，列出本机镜像的信息。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> image</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ls</span></span>
<span class="line" data-v-11d1a840=""></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">REPOSITORY</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">          TAG</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                 IMAGE</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ID</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">            CREATED</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">             SIZE</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               latest</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              719cd2e3ed04</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        2</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> weeks</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">         109MB</span></span></code></pre><p data-v-11d1a840="">如果容器正在后台运行，可以通过 <code data-v-11d1a840="">kill</code> 或 <code data-v-11d1a840="">stop</code> 停止正在运行的容器。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 指定容器 ID</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> kill</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 9752e761d34d</span></span></code></pre><p data-v-11d1a840="">通过 <code data-v-11d1a840="">start</code> 命令启动一个已存在的容器。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> start</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 9752e761d34d</span></span></code></pre><p data-v-11d1a840="">通过 <code data-v-11d1a840="">rm</code> 删除容器。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> rm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 9752e761d34d</span></span></code></pre><h2 id="%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84" data-v-11d1a840="">容器端口、文件映射<a name="%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84" class="headerlink" href="#%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">启动一了个 Nginx 的镜像到底是什么情况？此时有一个容器在机子上跑着，同时有一个 Nginx 服务在这个容器里跑着。而事实上，提供服务的是当前这台机子；目前这种情况，用户是无法访问到 Nginx 服务的。接下来的设置，让容器内的服务能够对外开放。</p><p data-v-11d1a840="">停止容器并按照如下命令重新启动。<code data-v-11d1a840="">-d</code> 参数让容器在后台运行；<code data-v-11d1a840="">-p 8088:80</code> 配置端口映射，让容器内的 80 和本机的 8088 端口进行映射（Nginx 服务的默认端口为 80）；<code data-v-11d1a840="">--rm</code> 表示在该容器停止后自动进行删除；<code data-v-11d1a840="">--name</code> 为容器命名，如此一来存在多个容器时能够一眼辨识。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> run</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  -d</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  -p</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 8088:80</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  --rm</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  --name</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> mynginx</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">  nginx</span></span></code></pre><p data-v-11d1a840="">启动完成后访问 <a href="http://localhost:8088" target="_blank" class="" data-v-11d1a840=""><!--[-->http://localhost:8088<!--]--></a>， 可以看到 Nginx 的欢迎页面，说明容器、Nginx 都已经成功启动，端口映射也没有问题。</p><p data-v-11d1a840="">不过访问其他路由都是 404，因为容器内此时只是个空白的 Nginx 服务。接下来将本地静态目录挂载到容器内，让容器内访问到外面的文件，更新文件内容时，容器内也是同步更改的。</p><p data-v-11d1a840="">在当前路径创建一个文件夹 <code data-v-11d1a840="">nginx-demo</code>，添加 html 文件 <code data-v-11d1a840="">html/a.html</code>。重新按照如下命令参数启动容器。<code data-v-11d1a840="">--volume</code> 把 <code data-v-11d1a840="">html</code> 目录映射到容器的网页文件目录 <code data-v-11d1a840="">/usr/share/nginx/html</code>。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> run</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  -d</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  -p</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 8088:80</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  --rm</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  --volume</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C5E478;" data-v-11d1a840="">$PWD</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-11d1a840="">/nginx-demo/html</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">"</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">:/usr/share/nginx/html</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840="">  --name</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> mynginx</span><span style="--shiki-light:#24292EFF;--shiki-dark:#F78C6C;" data-v-11d1a840=""> \</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">  nginx</span></span></code></pre><p data-v-11d1a840="">此时访问 <a href="http://localhost:8088/a.html" target="_blank" class="" data-v-11d1a840=""><!--[-->http://localhost:8088/a.html<!--]--></a> 可以看到对应页面，目录映射成功。修改 html 文件，刷新页面也能看到预期的变化。</p><h2 id="%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image" data-v-11d1a840="">使用 Dockerfile 构建 image<a name="%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image" class="headerlink" href="#%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">本文记录了两种创建镜像的方式：</p><ol data-v-11d1a840=""><li data-v-11d1a840="">直接通过 Dockerfile 进行构建</li><li data-v-11d1a840="">通过现有容器生成新的镜像</li></ol><p data-v-11d1a840="">本小节描述了第一种方式，第二种会在下节的内容中出现。</p><p data-v-11d1a840="">现在开始用 Dockerfile 来构建 image。Dockerfile 是一个文本文件，用来配置 image。Docker 根据该文件生成二进制的 image 文件。</p><p data-v-11d1a840="">进入 nginx-demo 目录，在根目录创建 <code data-v-11d1a840="">.dockerignore</code>、<code data-v-11d1a840="">Dockerfile</code>，目录结构参考如下：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">├──</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> .dockerignore</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">├──</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> Dockerfile</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">└──</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> html</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">    └──</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> a.html</span></span></code></pre><p data-v-11d1a840=""><code data-v-11d1a840="">.dockerignore</code> 表示，打包 image 的时候忽略列出的内容：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># .dockerignore</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">.git</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-11d1a840="">*</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-11d1a840="">.log</span></span></code></pre><p data-v-11d1a840="">一个简单的 <code data-v-11d1a840="">Dockerfile</code> 如下：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># Dockerfile</span></span>
<span class="line" data-v-11d1a840=""></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># FROM</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 表示该镜像继承自官方的 nginx 镜像，版本为最新</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">FROM</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx:latest</span></span>
<span class="line" data-v-11d1a840=""></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># COPY</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 将 ./html 目录下的所有文件（除了.dockerignore 排除的路径）</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 都拷贝到 image 文件的 /usr/share/nginx/html 目录</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">COPY</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ./html</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> /usr/share/nginx/html</span></span>
<span class="line" data-v-11d1a840=""></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 将容器 80 端口暴露出来， 允许外部连接这个端口</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">EXPOSE</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840=""> 80</span></span></code></pre><blockquote data-v-11d1a840=""><p data-v-11d1a840=""><a href="https://devdocs.io/docker~17/engine/userguide/eng-image/dockerfile_best-practices/index" target="_blank" class="" data-v-11d1a840=""><!--[-->`Dockerfile` 的更多选项可参考这里<!--]--></a>。</p></blockquote><p data-v-11d1a840="">创建 image 文件。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># -t 参数用来指定 image 文件的名字, . 表示当前路径（也可以指定 Dockerfile 的路径）</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> image</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> build</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -t</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx-demo</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> .</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 或者添加冒号记录版本信息</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> image</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> build</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -t</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx-demo:0.0.1</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> .</span></span></code></pre><p data-v-11d1a840="">此时就可以看到刚刚添加的镜像。</p><p data-v-11d1a840="">查看 images。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> images</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">REPOSITORY</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">          TAG</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                 IMAGE</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ID</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">            CREATED</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">             SIZE</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">          0.0.1</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               fdd278ef340c</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        22</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">      109MB</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">          latest</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              fdd278ef340c</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        22</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">      109MB</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               latest</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              719cd2e3ed04</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        2</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> weeks</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">         109MB</span></span></code></pre><p data-v-11d1a840="">在自定义的 image 上运行容器。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 通过 nginx-demo:0.0.1 的 image 启动容器，并映射端口</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> run</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -d</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -p</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 8088:80</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> --rm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx-demo:0.0.1</span></span></code></pre><p data-v-11d1a840="">访问 <a href="http://localhost:8088/a.html" target="_blank" class="" data-v-11d1a840=""><!--[-->http://localhost:8088/a.html<!--]--></a> 可以看到相应页面。</p><p data-v-11d1a840=""><strong data-v-11d1a840="">注意此时没有映射文件目录，看到的页面已经是 image 里的内容了。这时候即使修改本机上的 a.html，页面也不会有变化。</strong></p><p data-v-11d1a840="">创建好 image，就可以把它上传到仓库，这样他人就能方便地进行下载。</p><h2 id="%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8" data-v-11d1a840="">进入容器<a name="%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8" class="headerlink" href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">容器内可看作是一个微型虚拟机，可以进入容器进行一些操作。</p><p data-v-11d1a840="">使用 <code data-v-11d1a840="">docker ps</code> 找到刚刚启动容器的 ID。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ps</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">CONTAINER</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ID</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        IMAGE</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               COMMAND</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                  CREATED</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">             STATUS</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              PORTS</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                  NAMES</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">53d51b734e3f</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        nginx-demo:0.0.1</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">    "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-11d1a840="">nginx -g 'daemon of…</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">"</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">   12</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">      Up</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840=""> 11</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">       0.0.0.0:8088</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-11d1a840="">-</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-11d1a840="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">80/tcp</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">   zealous_nobel</span></span></code></pre><p data-v-11d1a840="">进入容器并打开容器的终端：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> container</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> exec</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-11d1a840=""> -it</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 53d51b734e3f</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> /bin/bash</span></span></code></pre><p data-v-11d1a840="">这一步找到容器内的 a.html，并尝试进行修改（以下的 <code data-v-11d1a840="">$</code> 实际上显示的是 <code data-v-11d1a840="">#</code>，但在渲染时会变成注释，所以替换了一下 ）。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">root@53d51b734e3f:/$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> cd</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> /usr/share/nginx/html/</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">root@53d51b734e3f:/usr/share/nginx/html$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ls</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">50x.html</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">  a.html</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">  index.html</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 修改文件内容</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">root@53d51b734e3f:/usr/share/nginx/html$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> echo</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-11d1a840="">hello world</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-11d1a840="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-11d1a840=""> &gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> a.html</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># 退出容器</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">root@53d51b734e3f:/usr/share/nginx/html$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> exit</span></span></code></pre><p data-v-11d1a840="">退出容器、查看页面，能看到更新后的内容。</p><blockquote data-v-11d1a840=""><p data-v-11d1a840="">上述使用 <code data-v-11d1a840="">docker exec -it ID /bin/bash</code> 进入容器并执行 <code data-v-11d1a840="">/bin/bash</code>，很是在 alpine 中没有 <code data-v-11d1a840="">/bin/bash</code> 文件，不过改成&nbsp;<code data-v-11d1a840="">docker exec -it ID sh</code>&nbsp;就能进入并启动终端了。</p></blockquote><p data-v-11d1a840=""><strong data-v-11d1a840="">注意此时修改的是容器内的文件，当容器停止后修改的内容就会丢失。</strong></p><p data-v-11d1a840="">接下来通过当前容器创建一个新的 image 以保存修改，使用 <code data-v-11d1a840="">docker commit</code> 命令。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-11d1a840=""># docker commit [容器ID]      [新镜像名] :[TAG]</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> commit</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> 53d51b734e3f</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> nginx-demo:0.0.2</span></span></code></pre><p data-v-11d1a840="">查看现在的镜像情况。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-11d1a840=""><code data-v-11d1a840=""><span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">$</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> docker</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> images</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">REPOSITORY</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">          TAG</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">                 IMAGE</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ID</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">            CREATED</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">             SIZE</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">          0.0.2</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               be392c708cb9</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        3</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> seconds</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">       109MB</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">          0.0.1</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               fdd278ef340c</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        16</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> hours</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        109MB</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx-demo</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">          latest</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              fdd278ef340c</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        16</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> hours</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">        109MB</span></span>
<span class="line" data-v-11d1a840=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-11d1a840="">nginx</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">               latest</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">              719cd2e3ed04</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-11d1a840="">        3</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> weeks</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840=""> ago</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-11d1a840="">         109MB</span></span></code></pre><p data-v-11d1a840="">停止正在运行的容器，分别以不同的镜像启动、查看页面内容。</p><h2 id="%E7%BB%93%E8%AF%AD" data-v-11d1a840="">结语<a name="%E7%BB%93%E8%AF%AD" class="headerlink" href="#%E7%BB%93%E8%AF%AD" data-v-11d1a840=""></a></h2><p data-v-11d1a840="">本文的描述十分简单，只包含了一些基本操作，更多详细的内容可参考文末链接。</p><p data-v-11d1a840="">文章多有疏漏，还望读者斧正。</p><p data-v-11d1a840="">完。</p><hr data-v-11d1a840=""><p data-v-11d1a840="">参考链接 &amp; 相关阅读：</p><ul data-v-11d1a840=""><li data-v-11d1a840=""><a href="https://www.docker.com" target="_blank" class="" data-v-11d1a840=""><!--[-->Docker 官网<!--]--></a></li><li data-v-11d1a840=""><a href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" class="" data-v-11d1a840=""><!--[-->Docker 入门教程 - 阮一峰<!--]--></a></li><li data-v-11d1a840=""><a href="https://devdocs.io/docker~17/" target="_blank" class="" data-v-11d1a840=""><!--[-->devdocs - docker 17<!--]--></a></li><li data-v-11d1a840=""><a href="https://www.runoob.com/docker/docker-tutorial.html" target="_blank" class="" data-v-11d1a840=""><!--[-->菜鸟教程<!--]--></a></li></ul><!--]--></div></article><aside class="pointer-events-none fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300 lg:pointer-events-auto lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]" data-v-11d1a840=""><nav class="overflow-y-auto text-foreground overscroll-contain bg-background w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl absolute top-0 transition-300 right-0 translate-x-full lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0" data-v-11d1a840=""><h2 class="mb-2 font-bold lg:hidden" data-v-11d1a840="">TABLE OF CONTENTS</h2><ul class="group/root" data-v-11d1a840=""><!--[--><li><a href="#%E5%AE%89%E8%A3%85" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="安装">安装</span></a><!----></li><li><a href="#%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="容器的增、删、查">容器的增、删、查</span></a><!----></li><li><a href="#%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="容器端口、文件映射">容器端口、文件映射</span></a><!----></li><li><a href="#%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="使用 Dockerfile 构建 image">使用 Dockerfile 构建 image</span></a><!----></li><li><a href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="进入容器">进入容器</span></a><!----></li><li><a href="#%E7%BB%93%E8%AF%AD" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="结语">结语</span></a><!----></li><!--]--></ul></nav></aside></div><hr class="border-border mt-10" data-v-11d1a840=""><div class="mt-10" data-v-11d1a840=""><div data-v-11d1a840=""><h2 class="text-xl font-bold mb-5"><a href="#comment" class="text-accent foreground-link">留言板</a></h2><div class="utterances-wrapper"></div></div></div><!--]--></main><footer class="text-center py-6 text-gray-500 dark:text-gray-400 text-sm"><div><span>© 2017-2025 Daief's Blog</span></div></footer><div></div></div><!--]--></div>
<script>window.__INITIAL_STATE__="{\"naiveUiStyles\":\"\"}"</script>
  

</body></html>