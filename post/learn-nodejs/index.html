<!DOCTYPE html><html ssthtmlattrs="" lang="en"><head>
    <title>Node.js 学习搭建 | Daief's Blog</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--ssr-head-partial-->
    <script>
      if (/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
        // redirect IE to Edge
        // This browser is no longer supported
        window.location.href = 'microsoft-edge:' + window.location.href;
        alert('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
        throw new Error('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
      }
    </script>
    <script type="module" crossorigin="" src="/assets/app-DvX1Smg_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-lBf8QYnm.css">
  <link rel="modulepreload" crossorigin="" href="/assets/vm__post_learn-nodejs_-Caz72AO8.js"><link rel="stylesheet" href="/assets/vm__post_learn-nodejs_-CojIQ35V.css"><link rel="modulepreload" crossorigin="" href="/assets/meta-info-C-tMy3g2.js"><link rel="modulepreload" crossorigin="" href="/assets/toc-DNILfFl5.js"><link rel="stylesheet" href="/assets/toc-m8VwwUnR.css"><meta name="description" content=""><meta property="og:title" content="Node.js 学习搭建 | Daief's Blog"><meta property="og:description" content=""><meta property="og:image" content="https://avatars.githubusercontent.com/u/19222089?v=4"><meta name="author" content="daief"></head>
  <body ssrbodyattrs="">
    <div class="page-bg-gradient pointer-events-none fixed start-0 top-0 z-[-1] h-screen w-full"></div>
    <div id="app" data-server-rendered="true"><!--[--><div class="flex flex-col min-h-screen transition-colors duration-300"><header data-v-c69b61b1=""><div id="nav-container" class="max-w-app mx-auto text-foreground sm:bg-transparent" data-v-c69b61b1=""><div id="top-nav-wrap" class="relative grid grid-cols-2 auto-rows-auto w-full items-center justify-between p-4 sm:py-6 sm:flex sm:grid-rows-1" data-v-c69b61b1=""><a href="/" class="py-1 text-xl leading-8 font-semibold whitespace-nowrap sm:my-auto sm:text-2xl sm:leading-none" data-v-c69b61b1=""><!--[-->Daief's Blog<!--]--></a><div class="flex-center justify-end space-x-4 sm:hidden" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button><a role="button" class="text-2xl p-1" data-v-c69b61b1=""><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c69b61b1=""><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg></a></div><nav id="nav-menu" class="col-start-1 col-end-3 w-full flex-col items-center static top-full left-0 right-0 z-10 mt-4 sm:mt-0 sm:ms-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0 sm:flex hidden" data-v-c69b61b1=""><ul id="menu-items" class="w-full place-content-center gap-2 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0" data-v-c69b61b1=""><!--[--><li class="col-span-2" data-v-c69b61b1=""><a href="/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1 nav-active" data-v-c69b61b1=""><!--[-->文章<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/tags/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->标签<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/about/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->关于<!--]--></a></li><!--]--><li class="col-span-1 hidden sm:block" data-v-c69b61b1=""><a class="flex justify-center items-center h-full px-4 py-3 sm:px-2 sm:py-1" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button></a></li></ul></nav></div></div><div class="mx-auto max-w-app px-4" data-v-c69b61b1=""><hr class="border-border" aria-hidden="true" data-v-c69b61b1=""></div></header><main class="flex-grow max-w-app mx-auto px-4 py-8 w-full text-foreground"><!--[--><div class="relative" data-v-b44edc3a=""><article data-v-b44edc3a=""><header data-v-b44edc3a=""><h1 class="text-foreground text-3xl font-bold mb-4" data-v-b44edc3a=""> Node.js 学习搭建 </h1><div class="flex items-center gap-x-3.5 gap-y-0.5 text-foreground opacity-80 flex-wrap" data-v-b44edc3a=""><!--[--><!--[--><div class="inline-flex items-center gap-x-0.5 whitespace-nowrap"><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M7 11h2v2H7zm14-6v14c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2M5 7h14V5H5zm14 12V9H5v10zm-4-6v-2h2v2zm-4 0v-2h2v2zm-4 2h2v2H7zm8 2v-2h2v2zm-4 0v-2h2v2z"></path></svg><span>发表于：<time datetime="2017-10-04T00:00:00.000Z">2017/10/04</time></span></div><!--[--><a href="/tags/JavaScript/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>JavaScript</a><a href="/tags/Node.js/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>Node.js</a><!--]--><!--]--><!--]--></div></header><div class="md-prose max-w-none dark:prose-invert mt-6" data-v-b44edc3a=""><!--[--><p data-v-b44edc3a="">听说 Node.js 是开启 JavaScript 后端开发之旅的技术，学习一下服务器的搭建过程。</p><a id="more" href="#more" class="block" data-v-b44edc3a=""></a><h3 id="%E5%AE%89%E8%A3%85%20Node%20%E7%8E%AF%E5%A2%83" data-v-b44edc3a="">安装 Node 环境<a name="%E5%AE%89%E8%A3%85%20Node%20%E7%8E%AF%E5%A2%83" class="headerlink" href="#%E5%AE%89%E8%A3%85%20Node%20%E7%8E%AF%E5%A2%83" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">前往<a href="http://nodejs.cn/download/" target="_blank" class="" data-v-b44edc3a=""><!--[-->Node.js 官网<!--]--></a>进行下载安装。</p><p data-v-b44edc3a="">安装完成后，终端识别<code data-v-b44edc3a="">node</code>命令：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">C:\Users\Administrator</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">node</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -v</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">v8.1.2</span></span></code></pre><h4 id="npm" data-v-b44edc3a="">npm<a name="npm" class="headerlink" href="#npm" data-v-b44edc3a=""></a></h4><p data-v-b44edc3a="">安装完 Node 之后会同时安装<code data-v-b44edc3a="">npm</code>，<code data-v-b44edc3a="">npm</code>是 Node.js 的包管理工具（package manager）。</p><blockquote data-v-b44edc3a=""><p data-v-b44edc3a="">为啥我们需要一个包管理工具呢？因为我们在 Node.js 上开发时，会用到很多别人写的 JavaScript 代码。如果我们要使用别人写的某个包，每次都根据名称搜索一下官方网站，下载代码，解压，再使用，非常繁琐。于是一个集中管理的工具应运而生：大家都把自己开发的模块打包后放到 npm 官网上，如果要使用，直接通过 npm 安装就可以直接用，不用管代码存在哪，应该从哪下载。 更重要的是，如果我们要使用模块 A，而模块 A 又依赖于模块 B，模块 B 又依赖于模块 X 和模块 Y，npm 可以根据依赖关系，把所有依赖的包都下载下来并管理起来。否则，靠我们自己手动管理，肯定既麻烦又容易出错。</p></blockquote><p data-v-b44edc3a="">npm 常用命令：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -v</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  # 查看npm版本</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> help</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看帮助</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> init</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 引导创建package.json文件。</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 安装package.json文件已保存的包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 在本地安装包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 在全局安装包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 安装的同时将信息写入package.json文件中的dependencies</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 安装的同时将信息写入package.json文件的devDependencies</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save-dev</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> uninstall</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 卸载本地包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> uninstall</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 卸载全局包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 卸载的同时将信息从package.json文件中的dependencies移除</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> uninstall</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -save</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 卸载的同时将信息从package.json文件中的devDependencies移除</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> uninstall</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -save-dev</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> list</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看本地所有包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> list</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看全局所有包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> root</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看本地包安装路径</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> root</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看全局包安装路径</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> outdated</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看本地过期包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> outdated</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 查看全局过期包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> update</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 升级本地所有过期包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> update</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 升级全局所有过期包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> update</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 升级本地包</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> update</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">包名</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">称</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> -g</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> # 升级全局包</span></span></code></pre><h3 id="%E5%88%9B%E5%BB%BA%20Node%20%E9%A1%B9%E7%9B%AE" data-v-b44edc3a="">创建 Node 项目<a name="%E5%88%9B%E5%BB%BA%20Node%20%E9%A1%B9%E7%9B%AE" class="headerlink" href="#%E5%88%9B%E5%BB%BA%20Node%20%E9%A1%B9%E7%9B%AE" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">新建空目录<code data-v-b44edc3a="">node</code></p><p data-v-b44edc3a="">进入后在当前目录打开终端，使用<code data-v-b44edc3a="">npm init</code>初始化：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> init</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 根据提示进行填写</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""># 然后生成一个 package.json</span></span>
<span class="line" data-v-b44edc3a=""></span></code></pre><p data-v-b44edc3a="">新建<code data-v-b44edc3a="">app.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">hello world</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span></code></pre><p data-v-b44edc3a="">最后终端里运行可以看到：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">C:\Users\Administrator\Desktop\node</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">node</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> app.js</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">hello</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> world</span></span></code></pre><h3 id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Web%20%E6%9C%8D%E5%8A%A1%E5%99%A8" data-v-b44edc3a="">创建一个 Web 服务器<a name="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Web%20%E6%9C%8D%E5%8A%A1%E5%99%A8" class="headerlink" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Web%20%E6%9C%8D%E5%8A%A1%E5%99%A8" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">Node.js 应用是由哪几部分组成的：</p><ol data-v-b44edc3a=""><li data-v-b44edc3a="">引入 required 模块：我们可以使用 require 指令来载入 Node.js 模块。</li><li data-v-b44edc3a="">创建服务器：服务器可以监听客户端的请求，类似于 Apache 、Nginx 等 HTTP 服务器。</li><li data-v-b44edc3a="">接收请求与响应请求 服务器很容易创建，客户端可以使用浏览器或终端发送 HTTP 请求，服务器接收请求后返回响应数据。</li></ol><h4 id="%E4%BD%BF%E7%94%A8http%E6%A8%A1%E5%9D%97%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1" data-v-b44edc3a="">使用<code data-v-b44edc3a="">http</code>模块监听端口、创建服务<a name="%E4%BD%BF%E7%94%A8http%E6%A8%A1%E5%9D%97%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1" class="headerlink" href="#%E4%BD%BF%E7%94%A8http%E6%A8%A1%E5%9D%97%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1" data-v-b44edc3a=""></a></h4><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">app.js</code>:</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> http</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">http</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">http</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  .</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">createServer</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">request</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> response</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // 发送 HTTP 头部</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // HTTP 状态值: 200 : OK</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // 内容类型: text/plain;charset=utf-8</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">writeHead</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">200</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> { </span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Content-Type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">text/plain;charset=utf-8</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> });</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">write</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Hello World</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">end</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  })</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  .</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">listen</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">8888</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 第一行请求（require）Node.js 自带的 http模块，并且把它赋值给 http 变量。</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 接下来我们调用 http 模块提供的函数： createServer 。这个函数会返回</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 一个对象，这个对象有一个叫做 listen 的方法</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// listen 方法有一个数值参数，指定这个 HTTP 服务器监听的端口号。</span></span></code></pre><p data-v-b44edc3a=""><code data-v-b44edc3a="">node app.js</code>运行后，浏览器访问<code data-v-b44edc3a="">http://127.0.0.1:8888/</code>可以看到<code data-v-b44edc3a="">hello world</code></p><h4 id="%E5%BC%95%E5%85%A5fs%E6%A8%A1%E5%9D%97%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6" data-v-b44edc3a="">引入<code data-v-b44edc3a="">fs</code>模块读写文件<a name="%E5%BC%95%E5%85%A5fs%E6%A8%A1%E5%9D%97%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6" class="headerlink" href="#%E5%BC%95%E5%85%A5fs%E6%A8%A1%E5%9D%97%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6" data-v-b44edc3a=""></a></h4><p data-v-b44edc3a="">因为是单线程运行的，为了不因为读写操作造成阻塞，一般使用异步的方式。</p><p data-v-b44edc3a="">修改 app.js：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> http</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">http</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入 fs 模块并赋值给变量 fs</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> fs</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">fs</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">http</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  .</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">createServer</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">request</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> response</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // 发送 HTTP 头部</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // HTTP 状态值: 200 : OK</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // 内容类型: text/plain;charset=utf-8</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">writeHead</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">200</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> { </span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Content-Type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">text/plain;charset=utf-8</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> });</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // 读取文件，异步执行。同步：var data = fs.readFileSync('input.txt');</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    fs</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">readFile</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">file/1.txt</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> data</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 回调函数</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">      if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        // 读取失败发回响应信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">end</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">文件读取失败</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">      }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 发回文件内容</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      response</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">end</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">data</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">toString</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">());</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    });</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  })</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  .</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">listen</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">8888</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 第一行请求（require）Node.js 自带的 http模块，并且把它赋值给 http 变量。</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 接下来我们调用 http 模块提供的函数： createServer 。这个函数会返回</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 一个对象，这个对象有一个叫做 listen 的方法</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// listen 方法有一个数值参数，指定这个 HTTP 服务器监听的端口号。</span></span></code></pre><p data-v-b44edc3a=""><code data-v-b44edc3a="">node app.js</code>运行后，浏览器访问<code data-v-b44edc3a="">http://127.0.0.1:8888/</code>可以看到<code data-v-b44edc3a="">文件读取失败</code>，并能在终端看到错误信息。创建<code data-v-b44edc3a="">file/1.txt</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span data-v-b44edc3a="">hello node.js</span></span>
<span class="line" data-v-b44edc3a=""><span data-v-b44edc3a=""></span></span>
<span class="line" data-v-b44edc3a=""><span data-v-b44edc3a="">javascript</span></span></code></pre><p data-v-b44edc3a="">重新访问<code data-v-b44edc3a="">http://127.0.0.1:8888/</code>可看到上述信息。</p><h3 id="%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6express%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1" data-v-b44edc3a="">使用中间件<code data-v-b44edc3a="">express</code>搭建服务<a name="%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6express%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1" class="headerlink" href="#%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6express%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">app.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入中间件</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">express</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> app</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 注册路由'/'</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Hello World</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 监听端口</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">listen</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">8888</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">run@</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 8888</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span></code></pre><p data-v-b44edc3a="">重新运行<code data-v-b44edc3a="">node app.js</code>，终端会报错提示找不到<code data-v-b44edc3a="">express</code>模块，这时候就需要用<code data-v-b44edc3a="">npm</code>安装模块：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> install</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">+</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> express@4.16.2</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">added</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 48</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> packages</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> in</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> 28.21s</span></span></code></pre><p data-v-b44edc3a="">完成之后会发现多了一个<code data-v-b44edc3a="">node_modules</code>，专门用于存放模块，打开<code data-v-b44edc3a="">package.json</code>，会发现多了一条<code data-v-b44edc3a="">dependencies</code>信息，随着模块的增多，<code data-v-b44edc3a="">dependencies</code>的内容也会变多：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">{</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "name"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">node</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "version"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">1.0.0</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "description"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ""</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "main"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">index.js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "scripts"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">    "test"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">echo </span><span style="--shiki-light:#22863A;--shiki-dark:#F78C6C;" data-v-b44edc3a="">\"</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">Error: no test specified</span><span style="--shiki-light:#22863A;--shiki-dark:#F78C6C;" data-v-b44edc3a="">\"</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a=""> &amp;&amp; exit 1</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "author"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ""</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "license"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">ISC</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">  "dependencies"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">    "express"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#C789D6;" data-v-b44edc3a="">^4.16.2</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">}</span></span></code></pre><p data-v-b44edc3a="">这时候重新运行并访问<code data-v-b44edc3a="">http://127.0.0.1:8888/</code>，可看到<code data-v-b44edc3a="">Hello World</code>，试着访问<code data-v-b44edc3a="">http://127.0.0.1:8888/index.html</code>则是<code data-v-b44edc3a="">Cannot GET /index.html</code>。</p><h3 id="%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95" data-v-b44edc3a="">设置静态资源目录<a name="%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95" class="headerlink" href="#%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">app.js</code>加入<code data-v-b44edc3a="">app.use(express.static('public'))</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入中间件</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">express</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> app</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 设置public目录作为静态资源，可以直接通过url进行访问</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">express</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">static</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">public</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Hello GET</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">listen</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">8888</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">run@</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 8888</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span></code></pre><p data-v-b44edc3a="">创建<code data-v-b44edc3a="">public</code>目录，在其中放入一些 html、图片或文件，通过<code data-v-b44edc3a="">http://127.0.0.1:8888/index.html</code>、<code data-v-b44edc3a="">http://127.0.0.1:8888/images/avatar.png</code>……访问。</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">public</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  │</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">  index.html</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  │</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  └─images</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    avatar.png</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    yoki1.jpg</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    yoki2.png</span></span></code></pre><h3 id="%E4%BD%BF%E7%94%A8%20ejs%20%E6%A8%A1%E6%9D%BF" data-v-b44edc3a="">使用 ejs 模板<a name="%E4%BD%BF%E7%94%A8%20ejs%20%E6%A8%A1%E6%9D%BF" class="headerlink" href="#%E4%BD%BF%E7%94%A8%20ejs%20%E6%A8%A1%E6%9D%BF" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">安装 ejs：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> i</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> ejs</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save</span></span></code></pre><p data-v-b44edc3a="">创建<code data-v-b44edc3a="">views</code>目录，并在其中创建 hello.ejs：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-b44edc3a="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">姓名: </span><span style="--shiki-light:#24292EFF;--shiki-dark:#FFFFFF;" data-v-b44edc3a="">&lt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">%=name%&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-b44edc3a="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">&gt;</span></span></code></pre><p data-v-b44edc3a="">引入、使用，编辑<code data-v-b44edc3a="">app.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入中间件</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">express</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入ejs</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> ejs</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">ejs</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> app</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 设置public目录作为静态资源，可以直接通过url进行访问</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">express</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">static</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">public</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 将模版引擎设置为 ejs</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">set</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">view engine</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">ejs</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 将 app.set('view engine', 'ejs'); 换成下面两句之后</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 模板不再以.ejs结尾，改为.html</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 如./views下的 index.ejs 改为 index.html</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// app.engine('.html',ejs.__express);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// app.set('view engine', 'html');</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Hello GET</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/hello</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 修改响应信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 渲染 hello.ejs</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 读取 ./views/hello.ejs文件的内容，然后将其中的name变量替换为test,例如&lt;%=name%&gt;会变为张三</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">render</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">hello</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> { name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">张三</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> });</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">listen</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a="">8888</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">run@</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 8888</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span></code></pre><p data-v-b44edc3a="">重新运行、访问<code data-v-b44edc3a="">http://127.0.0.1:8888/hello</code>，可看到<code data-v-b44edc3a="">姓名：张三</code>。</p><h3 id="%E8%B7%AF%E7%94%B1" data-v-b44edc3a="">路由<a name="%E8%B7%AF%E7%94%B1" class="headerlink" href="#%E8%B7%AF%E7%94%B1" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">创建<code data-v-b44edc3a="">router</code>目录，创建<code data-v-b44edc3a="">user.js</code>，当前目录结构：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">├─file</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">├─node_modules</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">├─public</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">│</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a="">  └─images</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">├─router</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">└─views</span></span></code></pre><p data-v-b44edc3a="">在<code data-v-b44edc3a="">app.js</code>中添加：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// ===========在app中注册路由===========</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/user</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">./router/user</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span></code></pre><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">user.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">express</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> router</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> express</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">Router</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> [</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  {</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 1</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">张三</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  {</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 2</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">李四</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  {</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 3</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">王五</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">];</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 统一设置 head 信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">router</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">all</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">*</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 跨域请求时是否携带cookie</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">header</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Access-Control-Allow-Credentials</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#FF5874;" data-v-b44edc3a=""> true</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 允许跨域</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">header</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Access-Control-Allow-Origin</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">*</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">header</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Access-Control-Allow-Headers</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Origin, X-Requested-With, Content-Type, Accept</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  );</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">header</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Access-Control-Allow-Methods</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">PUT,POST,GET,DELETE,OPTIONS</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">header</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Content-Type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">application/json;charset=utf-8</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 调用next</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// app.js中是在 /user 后引用的，所以 /user/id/1 才能进行匹配</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">//定义一个get请求</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">router</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/id/:id</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> queryid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> req</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic;" data-v-b44edc3a="">params</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-b44edc3a="">id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ||</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">let</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">queryid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ==</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">]</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#BAEBE2;" data-v-b44edc3a="">id</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 返回信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">      user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">];</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 返回信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-b44edc3a="">JSON</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">user</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// post请求</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">router</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">post</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/id</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // req.param(“id”) 已舍弃</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> queryid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> req</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic;" data-v-b44edc3a="">body</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-b44edc3a="">id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ||</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">let</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> &lt;</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#7FDBCA;" data-v-b44edc3a="">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">queryid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ==</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">]</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#BAEBE2;" data-v-b44edc3a="">id</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 返回信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">      user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> users</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">];</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 返回信息</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-b44edc3a="">JSON</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">user</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">router</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/all</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  // 返回用户列表</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-b44edc3a="">JSON</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">users</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 导出模块，以供require</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-b44edc3a="">module</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-b44edc3a="">exports</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> router</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span></code></pre><p data-v-b44edc3a="">重新运行后，访问（要加上/user）<code data-v-b44edc3a="">http://127.0.0.1:8888/user/all</code>、<code data-v-b44edc3a="">http://127.0.0.1:8888/user/id/1</code>可看到对应信息，但是使用 post 请求<code data-v-b44edc3a="">http://127.0.0.1:8888/user/id</code>时控制台会发出错误，要解析 post 请求的 body 还需要引入中间件。</p><p data-v-b44edc3a="">在<code data-v-b44edc3a="">app.js</code>中加入：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 通常使用body-parser进行post参数的解析,不添加该项依赖，req.body为undefined</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> bodyParser</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">body-parser</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">bodyParser</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">json</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">());</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">bodyParser</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">urlencoded</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">({ extended</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#FF5874;" data-v-b44edc3a=""> false</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> }));</span></span></code></pre><p data-v-b44edc3a="">然后就可以正常解析 post 请求。</p><h3 id="%E8%BF%9E%E6%8E%A5%20mysql%20%E6%95%B0%E6%8D%AE%E5%BA%93" data-v-b44edc3a="">连接 mysql 数据库<a name="%E8%BF%9E%E6%8E%A5%20mysql%20%E6%95%B0%E6%8D%AE%E5%BA%93" class="headerlink" href="#%E8%BF%9E%E6%8E%A5%20mysql%20%E6%95%B0%E6%8D%AE%E5%BA%93" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a=""><code data-v-b44edc3a="">npm</code>安装 <code data-v-b44edc3a="">mysql</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> i</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> mysql</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save</span></span>
<span class="line" data-v-b44edc3a=""></span></code></pre><h4 id="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" data-v-b44edc3a="">基本使用<a name="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" class="headerlink" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" data-v-b44edc3a=""></a></h4><p data-v-b44edc3a="">新建 <code data-v-b44edc3a="">mysql.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入模块</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> mysql</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">mysql</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 基本使用</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> connection</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> mysql</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">createConnection</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">{</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  host</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">localhost</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  port</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">3306</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">root</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 数据库连接用户名</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  password</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">123456</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 连接密码</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  database</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">test_db</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 连接数据库</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">connection</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">connect</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">//查询</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">connection</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">query</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">select * from `admin`</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> rows</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> fields</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">) </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">throw</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  console</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">查询结果为: </span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> rows</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> fields</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">//关闭连接</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">connection</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">end</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">();</span></span></code></pre><p data-v-b44edc3a="">运行<code data-v-b44edc3a="">node mysql.js</code>查看结果。</p><h4 id="%E4%BD%BF%E7%94%A8%E8%BF%9E%E6%8E%A5%E6%B1%A0" data-v-b44edc3a="">使用连接池<a name="%E4%BD%BF%E7%94%A8%E8%BF%9E%E6%8E%A5%E6%B1%A0" class="headerlink" href="#%E4%BD%BF%E7%94%A8%E8%BF%9E%E6%8E%A5%E6%B1%A0" data-v-b44edc3a=""></a></h4><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">mysql.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> mysql</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">mysql</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 连接池，默认10个连接数</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> pool</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> mysql</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">createPool</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">{</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  host</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">localhost</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  port</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">3306</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">root</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 数据库连接用户名</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  password</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">123456</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 连接密码</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  database</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">test_db</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> // 连接数据库</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  multipleStatements</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">:</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FF5874;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> true</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> query</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">{</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> sql</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> obj</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> success</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> fail</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">  obj</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> obj</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ||</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> ''</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  pool</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">getConnection</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a="">err</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> conn</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 失败回调</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      fail</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">    }</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> else</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // sql，obj 预编译，后面可以看到</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      conn</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">query</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">sql</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> obj</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a="">qerr</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> vals</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> fields</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        // 释放连接</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        conn</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">release</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        // 成功回调</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">        success</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">qerr</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> vals</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> fields</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">      }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">    }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 导出模块</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-b44edc3a="">module</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-b44edc3a="">exports</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> query</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span></code></pre><p data-v-b44edc3a="">编辑<code data-v-b44edc3a="">user.js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> query</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">../mysql</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 修改 get 请求的控制器</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">router</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">get</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">/id/:id</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> function</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">req</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> res</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> next</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> queryid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> req</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic;" data-v-b44edc3a="">params</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-b44edc3a="">id</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> ||</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-b44edc3a=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">  var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> user</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-b44edc3a=""> {}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">;</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">  query</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">({</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    // sql 预编译</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    sql</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">select * from `user` where id = ?</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    obj</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> queryid</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    success</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> vals</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> fields</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-b44edc3a="">JSON</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">vals</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">));</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">    fail</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a="">err</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      res</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">send</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-b44edc3a="">JSON</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">([]));</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  });</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">});</span></span></code></pre><p data-v-b44edc3a="">重新运行、访问<code data-v-b44edc3a="">http://localhost:8888/user/id/1</code>（前提创建好相应数据库表结构）。</p><h3 id="log4js%20%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8" data-v-b44edc3a="">log4js 日志使用<a name="log4js%20%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8" class="headerlink" href="#log4js%20%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">安装模块：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">npm</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> i</span><span style="--shiki-light:#2B5581;--shiki-dark:#ECC48D;" data-v-b44edc3a=""> log4js</span><span style="--shiki-light:#2B5581;--shiki-dark:#82AAFF;" data-v-b44edc3a=""> --save</span></span></code></pre><p data-v-b44edc3a="">log4js 配置说明（还不是很清楚，简单按照官方配置）：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">{</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">  "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">appenders</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">: {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">everything</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 文件日志</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">file</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 文件名：logs/all-the-logs.log</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">filename</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">logs/all-the-logs.log</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">emergencies</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 文件日志</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">file</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 文件名：logs/oh-no-not-again.log</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">filename</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">logs/oh-no-not-again.log</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">just-errors</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">type</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">logLevelFilter</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // emergencies 只记录error级日志，</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">      // 即 logs/oh-no-not-again.log 中记录错误日志</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">appender</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">emergencies</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">level</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">error</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">  "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">categories</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">: {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">    "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">default</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> {</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">appenders</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> [</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">        "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">just-errors</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">        "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">everything</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">      ]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">      "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">level</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> "</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">debug</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">"</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">    }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">  }</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">}</span></span></code></pre><p data-v-b44edc3a="">把 log4js 配置写在 <code data-v-b44edc3a="">config/log4js.json</code> 中（注意 json 中不能有注释）。</p><p data-v-b44edc3a=""><code data-v-b44edc3a="">app.js</code>中引入 <code data-v-b44edc3a="">log4js</code>：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// add log4js</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> log4js</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">log4js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 使用 config/log4js.json 的配置</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log4js</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">configure</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">./config/log4js.json</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 页面请求日志, level用auto时</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">app</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">use</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log4js</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">connectLogger</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">log4js</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">getLogger</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">http</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> { level</span><span style="--shiki-light:#D32F2F;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">:</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">auto</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a=""> }));</span></span></code></pre><p data-v-b44edc3a="">创建<code data-v-b44edc3a="">log</code>目录，再重新运行，可以看到<code data-v-b44edc3a="">log</code>目录下生成了两个日志文件。访问链接后发现日志中的内容会自动记录。</p><p data-v-b44edc3a="">主动打印日志，在<code data-v-b44edc3a="">router/user.js</code>中：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-b44edc3a=""><code data-v-b44edc3a=""><span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 引入log4js</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a="">var</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-b44edc3a=""> logger</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-b44edc3a=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a=""> require</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">log4js</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">)</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">getLogger</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">user</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-b44edc3a="">// 然后使用 logger 可进行日志记录</span></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">logger</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">debug</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">Some debug handle</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span>
<span class="line" data-v-b44edc3a=""></span>
<span class="line" data-v-b44edc3a=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#7FDBCA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">logger</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-b44edc3a="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-b44edc3a="">error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">(</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-b44edc3a="">some error</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-b44edc3a="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-b44edc3a="">);</span></span></code></pre><h3 id="%E7%BB%93%E6%9D%9F" data-v-b44edc3a="">结束<a name="%E7%BB%93%E6%9D%9F" class="headerlink" href="#%E7%BB%93%E6%9D%9F" data-v-b44edc3a=""></a></h3><p data-v-b44edc3a="">至此，一个小型、全面的服务器就搭建完成了。但是，现在每个方面只是了解性地接触了，日后如果要使用的话，必定是要再深入的。总之，先是对 Node.js 的使用有了初步的认识了。</p><!--]--></div></article><aside class="pointer-events-none fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300 lg:pointer-events-auto lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]" data-v-b44edc3a=""><nav class="overflow-y-auto text-foreground overscroll-contain bg-background w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl absolute top-0 transition-300 right-0 translate-x-full lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0" data-v-b44edc3a=""><h2 class="mb-2 font-bold lg:hidden" data-v-b44edc3a="">TABLE OF CONTENTS</h2><ul class="group/root" data-v-b44edc3a=""><!--[--><li><a href="#%E5%AE%89%E8%A3%85%20Node%20%E7%8E%AF%E5%A2%83" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="安装 Node 环境">安装 Node 环境</span></a><ul class=""><!--[--><li><a href="#npm" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:16px;margin-right:12px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="npm">npm</span></a><!----></li><!--]--></ul></li><li><a href="#%E5%88%9B%E5%BB%BA%20Node%20%E9%A1%B9%E7%9B%AE" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="创建 Node 项目">创建 Node 项目</span></a><!----></li><li><a href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Web%20%E6%9C%8D%E5%8A%A1%E5%99%A8" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="创建一个 Web 服务器">创建一个 Web 服务器</span></a><ul class=""><!--[--><li><a href="#%E4%BD%BF%E7%94%A8http%E6%A8%A1%E5%9D%97%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:16px;margin-right:12px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="使用http模块监听端口、创建服务">使用http模块监听端口、创建服务</span></a><!----></li><li><a href="#%E5%BC%95%E5%85%A5fs%E6%A8%A1%E5%9D%97%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:16px;margin-right:12px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="引入fs模块读写文件">引入fs模块读写文件</span></a><!----></li><!--]--></ul></li><li><a href="#%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6express%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="使用中间件express搭建服务">使用中间件express搭建服务</span></a><!----></li><li><a href="#%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9B%AE%E5%BD%95" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="设置静态资源目录">设置静态资源目录</span></a><!----></li><li><a href="#%E4%BD%BF%E7%94%A8%20ejs%20%E6%A8%A1%E6%9D%BF" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="使用 ejs 模板">使用 ejs 模板</span></a><!----></li><li><a href="#%E8%B7%AF%E7%94%B1" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="路由">路由</span></a><!----></li><li><a href="#%E8%BF%9E%E6%8E%A5%20mysql%20%E6%95%B0%E6%8D%AE%E5%BA%93" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="连接 mysql 数据库">连接 mysql 数据库</span></a><ul class=""><!--[--><li><a href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:16px;margin-right:12px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="基本使用">基本使用</span></a><!----></li><li><a href="#%E4%BD%BF%E7%94%A8%E8%BF%9E%E6%8E%A5%E6%B1%A0" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:16px;margin-right:12px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="使用连接池">使用连接池</span></a><!----></li><!--]--></ul></li><li><a href="#log4js%20%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="log4js 日志使用">log4js 日志使用</span></a><!----></li><li><a href="#%E7%BB%93%E6%9D%9F" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="结束">结束</span></a><!----></li><!--]--></ul></nav></aside></div><hr class="border-border mt-10" data-v-b44edc3a=""><div class="mt-10" data-v-b44edc3a=""><div data-v-b44edc3a=""><h2 class="text-xl font-bold mb-5"><a href="#comment" class="text-accent foreground-link">留言板</a></h2><div class="utterances-wrapper"></div></div></div><!--]--></main><footer class="text-center py-6 text-gray-500 dark:text-gray-400 text-sm"><div><span>© 2017-2025 Daief's Blog</span></div></footer><div></div></div><!--]--></div>
<script>window.__INITIAL_STATE__="{\"naiveUiStyles\":\"\"}"</script>
  

</body></html>