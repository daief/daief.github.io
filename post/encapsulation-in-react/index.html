<!DOCTYPE html><html ssthtmlattrs="" lang="en"><head>
    <title>React 中的一些封装 | Daief's Blog</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--ssr-head-partial-->
    <script>
      if (/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
        // redirect IE to Edge
        // This browser is no longer supported
        window.location.href = 'microsoft-edge:' + window.location.href;
        alert('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
        throw new Error('请使用 Chrome/Edge/Firefox/Safari 等现代浏览器。');
      }
    </script>
    <script type="module" crossorigin="" src="/assets/app-DvX1Smg_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-lBf8QYnm.css">
  <link rel="modulepreload" crossorigin="" href="/assets/vm__post_encapsulation-in-react_-CE6f_zrH.js"><link rel="stylesheet" href="/assets/vm__post_encapsulation-in-react_-C1fAKHyO.css"><link rel="modulepreload" crossorigin="" href="/assets/meta-info-C-tMy3g2.js"><link rel="modulepreload" crossorigin="" href="/assets/toc-DNILfFl5.js"><link rel="stylesheet" href="/assets/toc-m8VwwUnR.css"><meta name="description" content=""><meta property="og:title" content="React 中的一些封装 | Daief's Blog"><meta property="og:description" content=""><meta property="og:image" content="https://avatars.githubusercontent.com/u/19222089?v=4"><meta name="author" content="daief"></head>
  <body ssrbodyattrs="">
    <div class="page-bg-gradient pointer-events-none fixed start-0 top-0 z-[-1] h-screen w-full"></div>
    <div id="app" data-server-rendered="true"><!--[--><div class="flex flex-col min-h-screen transition-colors duration-300"><header data-v-c69b61b1=""><div id="nav-container" class="max-w-app mx-auto text-foreground sm:bg-transparent" data-v-c69b61b1=""><div id="top-nav-wrap" class="relative grid grid-cols-2 auto-rows-auto w-full items-center justify-between p-4 sm:py-6 sm:flex sm:grid-rows-1" data-v-c69b61b1=""><a href="/" class="py-1 text-xl leading-8 font-semibold whitespace-nowrap sm:my-auto sm:text-2xl sm:leading-none" data-v-c69b61b1=""><!--[-->Daief's Blog<!--]--></a><div class="flex-center justify-end space-x-4 sm:hidden" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button><a role="button" class="text-2xl p-1" data-v-c69b61b1=""><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c69b61b1=""><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg></a></div><nav id="nav-menu" class="col-start-1 col-end-3 w-full flex-col items-center static top-full left-0 right-0 z-10 mt-4 sm:mt-0 sm:ms-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0 sm:flex hidden" data-v-c69b61b1=""><ul id="menu-items" class="w-full place-content-center gap-2 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0" data-v-c69b61b1=""><!--[--><li class="col-span-2" data-v-c69b61b1=""><a href="/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1 nav-active" data-v-c69b61b1=""><!--[-->文章<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/tags/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->标签<!--]--></a></li><li class="col-span-2" data-v-c69b61b1=""><a href="/about/" class="flex justify-center items-center h-full px-4 py-3 font-medium hover:text-accent sm:px-2 sm:py-1" data-v-c69b61b1=""><!--[-->关于<!--]--></a></li><!--]--><li class="col-span-1 hidden sm:block" data-v-c69b61b1=""><a class="flex justify-center items-center h-full px-4 py-3 sm:px-2 sm:py-1" data-v-c69b61b1=""><button class="cursor-pointer relative" data-v-c69b61b1=""><div class="w-10 h-6 rounded-3xl border-[3px] border-[#d1d5da] transition-300 dark:border-[#6E40C9]"><div class="absolute top-1/2 -left-0.5 transform -translate-y-1/2 transition-300 w-[28px] h-[28px] bg-[#2f363d] rounded-full flex-center dark:bg-[#6E40C9] dark:left-[calc(100%-28px+2px)]"><span class="text-[16px]"><!--?xml version="1.0" standalone="no"?-->
<svg t="1761650889094" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2362" xmlns:xlink="http://www.w3.org/1999/xlink" width="1em" height="1em">
  <path d="M554.632 298.914h-85.264c-11.782 0-21.344-9.546-21.344-21.328s9.562-21.328 21.344-21.328h85.264c11.81 0 21.374 9.546 21.374 21.328s-9.562 21.328-21.374 21.328z" fill="#F6BB42" p-id="2363"></path>
  <path d="M810.562 725.43c-282.664 0-511.812-229.164-511.812-511.826 0-63.53 11.594-124.372 32.748-180.51C137.91 106.076 0.196 293.04 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 219.102 0 406.096-137.714 479.034-331.302-56.126 21.156-116.934 32.748-180.496 32.748z" fill="#FFCE54" p-id="2364"></path>
  <path d="M554.632 981.328c-282.632 0-511.78-229.148-511.78-511.812 0-130.434 48.81-249.476 129.122-339.848C66.6 223.416 0.196 360.02 0.196 512.172c0 282.662 229.15 511.812 511.828 511.812 152.106 0 288.726-66.406 382.47-171.806-90.368 80.368-209.43 129.15-339.862 129.15z" fill="#F6BB42" p-id="2365"></path>
  <path d="M767.938 277.586c0 11.782-9.562 21.328-21.376 21.328-11.75 0-21.312-9.546-21.312-21.328s9.562-21.328 21.312-21.328c11.814 0 21.376 9.546 21.376 21.328z" fill="#4A89DC" p-id="2366"></path>
  <path d="M661.316 490.844c0 11.766-9.562 21.328-21.374 21.328-11.75 0-21.312-9.562-21.312-21.328 0-11.782 9.562-21.328 21.312-21.328 11.812 0 21.374 9.546 21.374 21.328z" fill="#48CFAD" p-id="2367"></path>
  <path d="M1023.804 234.586c0 11.782-9.562 21.328-21.312 21.328-11.748 0-21.31-9.546-21.31-21.328 0-11.78 9.562-21.326 21.31-21.326 11.75 0 21.312 9.546 21.312 21.326z" fill="#ED5564" p-id="2368"></path>
  <path d="M639.944 21.328c0 11.782-9.5 21.328-21.312 21.328-11.75 0-21.312-9.546-21.312-21.328 0-11.766 9.562-21.312 21.312-21.312a21.288 21.288 0 0 1 21.312 21.312z" fill="#AC92EB" p-id="2369"></path>
  <path d="M512.024 192.276c-11.782 0-21.344 9.562-21.344 21.328v127.964c0 11.766 9.562 21.312 21.344 21.312 11.75 0 21.312-9.546 21.312-21.312v-127.964c0-11.766-9.562-21.328-21.312-21.328z" fill="#FFCE54" p-id="2370"></path>
  <path d="M874.56 426.862c-11.812 0-21.312 9.546-21.312 21.328v127.934c0 11.812 9.5 21.344 21.312 21.344 11.748 0 21.308-9.532 21.308-21.344v-127.934c0.002-11.78-9.56-21.328-21.308-21.328z" fill="#F6BB42" p-id="2371"></path>
  <path d="M917.182 533.484h-85.306c-11.75 0-21.312-9.546-21.312-21.312 0-11.782 9.562-21.328 21.312-21.328h85.306c11.812 0 21.312 9.546 21.312 21.328 0 11.766-9.5 21.312-21.312 21.312z" fill="#FFCE54" p-id="2372"></path>
</svg>
</span></div></div></button></a></li></ul></nav></div></div><div class="mx-auto max-w-app px-4" data-v-c69b61b1=""><hr class="border-border" aria-hidden="true" data-v-c69b61b1=""></div></header><main class="flex-grow max-w-app mx-auto px-4 py-8 w-full text-foreground"><!--[--><div class="relative" data-v-31836024=""><article data-v-31836024=""><header data-v-31836024=""><h1 class="text-foreground text-3xl font-bold mb-4" data-v-31836024=""> React 中的一些封装 </h1><div class="flex items-center gap-x-3.5 gap-y-0.5 text-foreground opacity-80 flex-wrap" data-v-31836024=""><!--[--><!--[--><div class="inline-flex items-center gap-x-0.5 whitespace-nowrap"><svg class="iconify-svg block" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="M7 11h2v2H7zm14-6v14c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2M5 7h14V5H5zm14 12V9H5v10zm-4-6v-2h2v2zm-4 0v-2h2v2zm-4 2h2v2H7zm8 2v-2h2v2zm-4 0v-2h2v2z"></path></svg><span>发表于：<time datetime="2020-03-22T21:06:34.000Z">2020/03/22</time></span></div><!--[--><a href="/tags/React/1/" class="inline-flex items-center foreground-link"><svg class="iconify-svg block select-none mr-0.5 text-foreground" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path fill="currentColor" d="m5.41 21l.71-4h-4l.35-2h4l1.06-6h-4l.35-2h4l.71-4h2l-.71 4h6l.71-4h2l-.71 4h4l-.35 2h-4l-1.06 6h4l-.35 2h-4l-.71 4h-2l.71-4h-6l-.71 4zM9.53 9l-1.06 6h6l1.06-6z"></path></svg>React</a><!--]--><!--]--><!--]--></div></header><div class="md-prose max-w-none dark:prose-invert mt-6" data-v-31836024=""><!--[--><p data-v-31836024="">结合资料以及一直以来的开发情况，总结记录一下 React 中的封装方式，具体是以下三种：</p><ul data-v-31836024=""><li data-v-31836024="">HOC</li><li data-v-31836024="">Render Props</li><li data-v-31836024="">React Hooks</li></ul><a id="more" href="#more" class="block" data-v-31836024=""></a><h2 id="%E5%89%8D%E8%A8%80" data-v-31836024="">前言<a name="%E5%89%8D%E8%A8%80" class="headerlink" href="#%E5%89%8D%E8%A8%80" data-v-31836024=""></a></h2><blockquote data-v-31836024=""><p data-v-31836024="">在线演示：<a href="https://codesandbox.io/s/encapsulation-in-react-g3crf" target="_blank" class="" data-v-31836024=""><!--[-->https://codesandbox.io/s/encapsulation-in-react-g3crf<!--]--></a></p></blockquote><p data-v-31836024="">本文以一个倒计时的例子结合进行说明，计时器包含三个要素：</p><ul data-v-31836024=""><li data-v-31836024="">current，当前计数</li><li data-v-31836024="">start，开始倒计时的方法</li><li data-v-31836024="">reset，重置计数的方法</li></ul><p data-v-31836024="">首先有一个无状态的纯函数组件，用于展示具体的效果：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// FC.tsx</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">import</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-31836024=""> *</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> React </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">from</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">react</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D6DEEB;" data-v-31836024=""> FCProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-31836024=""> string</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-31836024=""> number</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">  start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-31836024=""> void</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">  reset</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478;" data-v-31836024=""> void</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> FC</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">FunctionComponent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">FCProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> name</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> current</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> start</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> }</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> style</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">name: </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">name</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">button</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> onClick</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">start</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> className</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">button</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">        Start</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">button</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">button</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> onClick</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> className</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">button</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">        Reset</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">button</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">current: </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">current</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  )</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span></code></pre><h2 id="HOC" data-v-31836024="">HOC<a name="HOC" class="headerlink" href="#HOC" data-v-31836024=""></a></h2><p data-v-31836024="">HOC 即 High Order Component，又可叫作高阶组件。</p><p data-v-31836024="">特地说明一下只是因为这个名字在一开始给到我的是一种很高大上的感觉，但实际上不是很高深概念。</p><p data-v-31836024="">官方的说明如下：</p><blockquote data-v-31836024=""><p data-v-31836024="">A higher-order component is a function that takes a component and returns a new component.</p></blockquote><p data-v-31836024="">简单来说这种封装方式接受一个组件作为输入，而后返回一个新的组件，常见的一个作用是对组件注入一些 <code data-v-31836024="">props</code>。</p><p data-v-31836024="">用一个具体的例子来介绍 HOC 的使用：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// HOC.tsx</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">import</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-31836024=""> *</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> React </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">from</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">react</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D6DEEB;" data-v-31836024=""> OuterProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt; </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024=""> Omit</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-31836024="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">current</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024=""> |</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">start</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024=""> |</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">reset</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">  Component</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024=""> React</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">ComponentType</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024=""> React</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">ComponentType</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">OuterProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;&gt; {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">    const</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> [</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useState</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">);</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">    const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> timer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useRef</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024="">number</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024=""> |</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> null</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">();</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">    const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">      timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">        setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">pre</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> pre</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> -</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">      }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1000</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">    }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">    const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> reset</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">      timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> &amp;&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> clearInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">    }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-dark:#D6DEEB;" data-v-31836024="">    React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useEffect</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">      if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (current </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">) {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">        reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">();</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">      }</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> [current]);</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">    return</span><span style="--shiki-light:#1976D2;--shiki-dark:#D6DEEB;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">createElement</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(Component</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">      current</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">      start</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">      reset</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">      ...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">props</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    });</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">使用的时候十分简单，只需包裹一下，即可获得一个具有倒计时功能的新组件：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> Wrapped</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">FCProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">FC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">);</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> App</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> className</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">App</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">Wrapped</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">Fc With HOC</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  );</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">同时可以看到 <code data-v-31836024="">Wrapped</code> 组件的类型已经被推导出来，它的定义如下：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> Wrapped</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">ComponentType</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">Pick</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">FCProps</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">name</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span></code></pre><p data-v-31836024="">翻译一下就是 <code data-v-31836024="">Wrapped</code> 组件接受的 <code data-v-31836024="">props</code> 是从 <code data-v-31836024="">FCProps</code> 中选出的 <code data-v-31836024="">name</code> 字段，这样的类型提示对于后续编码是十分有帮助的。</p><blockquote data-v-31836024=""><p data-v-31836024="">注意此处的 HOC 类型推导需要在泛型处传入 FCProps，而做得好的处理我记得是不需要的，而关于这部分的先不展开了。</p></blockquote><p data-v-31836024="">简化一下，HOC 是长这样的，就是接收组件，返回一个新的组件：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">Component</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">    // ...</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">可以看到，使用 HOC 轻易地封装了一组有状态的逻辑，从而使得开发时更加清晰和简单。不仅如此，稍加改变 HOC 能变得更加灵活：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// 可配置的 HOC</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">options</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">Component</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">    return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">      // ...</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// 使用时</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> Wrapped</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">{</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">  // ... options here</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">FC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">);</span></span></code></pre><p data-v-31836024="">此外，HOC 还能对 UI 进行封装：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> HOC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B;" data-v-31836024="">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">Component</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">    // ...</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">    return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">        With HOC </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">/* 添加自定义的 UI */</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">hr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">        {</span><span style="--shiki-light:#1976D2;--shiki-dark:#D6DEEB;" data-v-31836024="">React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">createElement</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(Component</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">          // ...</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">        })</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    );</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">HOC 是十分常见的一种用法，比如 antd 3 中的 <code data-v-31836024="">Form.create()(Component)</code> 、react router 中的 <code data-v-31836024="">withRouter(Component)</code>。</p><p data-v-31836024="">HOC 的方式十分强大，你可以拦截到组件（指 HOC 中传入的组件）的 props，也可以操纵组件的状态，可以获取到组件的实例，可以在 HOC 做很多的事情。<strong data-v-31836024="">所以，封装的时候务必保持谨慎，不应该破坏一些常理的内容。</strong></p><p data-v-31836024="">所以，HOC 也是有缺点的，如：</p><ul data-v-31836024=""><li data-v-31836024="">因为会注入 props，而注入的 props 可能会与传入的 props 冲突</li><li data-v-31836024="">经过 HOC 处理后的组件，需要注意 ref 的使用，不特殊处理的话 ref 将无法获取到想要的组件实例</li><li data-v-31836024="">注意被包裹组件的静态属性，不特殊处理的话包裹后的组件将丢失了这些静态属性</li></ul><h2 id="Render%20Props" data-v-31836024="">Render Props<a name="Render%20Props" class="headerlink" href="#Render%20Props" data-v-31836024=""></a></h2><p data-v-31836024=""><code data-v-31836024="">Render Props</code> 是一种新的封装方式，可以做到与 HOC 相同效果的同时避免 HOC 的问题。这不是一项什么神奇的技术，只是将某个 props 作为 <code data-v-31836024="">render</code> 的一个回调函数。</p><p data-v-31836024="">当使用 Render Props 来封装倒计时可以是这样的：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// RenderProps.tsx</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> RenderProps</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">props</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">  render</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">props</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">:</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024=""> ICallbackArg</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#FFCB8B;--shiki-dark-font-style:italic;" data-v-31836024="">ReactElement</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> [</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useState</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> timer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useRef</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024="">number</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024=""> |</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> null</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">    reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">pre</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> pre</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> -</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1000</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> reset</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> &amp;&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> clearInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">    setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">  React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useEffect</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> &lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">    }</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  }</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> [</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">])</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> props</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">render</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">{</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    current</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    start</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    reset</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span></code></pre><p data-v-31836024="">使用方式如下：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">RenderProps</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> render</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> &lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">FC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024=""> {</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">RenderProps</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span></span></code></pre><p data-v-31836024="">更多的 Render Props 会选择将 <code data-v-31836024="">children</code> 作为这样的 props，此时用起来就会是这样的：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">RenderProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> &lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">FC</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024=""> {</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">RenderProps</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&lt;/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">RenderProps</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span></code></pre><p data-v-31836024="">同样地，也可以封装 UI；同时不用再担心 props 冲突、ref 等问题。</p><p data-v-31836024="">不过，这种方式我认为也是有缺点的：</p><ul data-v-31836024=""><li data-v-31836024="">就是单纯写起来的时候嵌套会比较多，尤其同时用到多个的时候</li></ul><h2 id="React%20Hooks" data-v-31836024="">React Hooks<a name="React%20Hooks" class="headerlink" href="#React%20Hooks" data-v-31836024=""></a></h2><p data-v-31836024="">React Hooks 是 React 16.8.0 中出现的新概念，不过到今天的时候已经不能算新了吧，也不多作说明了。</p><p data-v-31836024="">Hooks 的封装如下：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;" data-v-31836024="">// Hooks.tsx</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">import</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF;" data-v-31836024=""> *</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> React </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">from</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024=""> '</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">react</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">'</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> useCountDown</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> [</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useState</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">);</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> timer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useRef</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024="">number</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024=""> |</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> null</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">();</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">    reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> setInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D7DBE0;--shiki-dark-font-style:italic;" data-v-31836024="">pre</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024=""> pre</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> -</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">    }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 1000</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> reset</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024=""> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">    timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> &amp;&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> clearInterval</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#D6DEEB;--shiki-dark-font-style:italic;" data-v-31836024="">timer</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#24292EFF;--shiki-light-font-style:inherit;--shiki-dark:#BAEBE2;--shiki-dark-font-style:italic;" data-v-31836024="">current</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">    setCurrent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">60</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#C792EA;" data-v-31836024="">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">;</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#1976D2;--shiki-dark:#D6DEEB;" data-v-31836024="">  React</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">useEffect</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (current </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">&lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024=""> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">) {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024="">      reset</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">();</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    }</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  }</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> [current]);</span></span>
<span class="line" data-v-31836024=""></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    current</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    start</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">    reset</span><span style="--shiki-light:#212121;--shiki-dark:#5F7E97;" data-v-31836024="">,</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  };</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">使用：</p><pre class="shiki shiki-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627;" tabindex="0" data-v-31836024=""><code data-v-31836024=""><span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">export</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024=""> default</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> function</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> App</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD;" data-v-31836024="">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> {</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">  const</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> props</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024=""> =</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic;" data-v-31836024=""> useCountDown</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">();</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;" data-v-31836024="">  return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024=""> (</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> className</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">App</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">      &lt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C;" data-v-31836024="">FC</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#C5E478;--shiki-dark-font-style:italic;" data-v-31836024=""> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA;" data-v-31836024="">=</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#22863A;--shiki-dark:#ECC48D;" data-v-31836024="">With Hooks</span><span style="--shiki-light:#22863A;--shiki-dark:#D9F5DD;" data-v-31836024="">"</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024=""> {</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA;" data-v-31836024="">...</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">props</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D3423E;" data-v-31836024="">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024=""> /&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#CAECE6;" data-v-31836024="">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#7FDBCA;" data-v-31836024="">&gt;</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">  );</span></span>
<span class="line" data-v-31836024=""><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB;" data-v-31836024="">}</span></span></code></pre><p data-v-31836024="">这种方式完全就是 hooks 的方式了，优点、局限与常规 hooks 一致了。</p><h2 id="%E7%BB%93%E8%AF%AD" data-v-31836024="">结语<a name="%E7%BB%93%E8%AF%AD" class="headerlink" href="#%E7%BB%93%E8%AF%AD" data-v-31836024=""></a></h2><p data-v-31836024="">三种方式在日常开发中都是频繁使用的存在，我不敢说自己使用的时候有多么多么灵活，但的的确确在开发时带来了诸多方便，无论是代码量亦或是解耦方面都有一定的帮助。</p><blockquote data-v-31836024=""><p data-v-31836024="">在童话中，一个人做他想做的事； 在现实中，一个人做他能做的事。 -- 「埃莱娜·费兰特」</p></blockquote><p data-v-31836024="">完。</p><!--]--></div></article><aside class="pointer-events-none fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300 lg:pointer-events-auto lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]" data-v-31836024=""><nav class="overflow-y-auto text-foreground overscroll-contain bg-background w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl absolute top-0 transition-300 right-0 translate-x-full lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0" data-v-31836024=""><h2 class="mb-2 font-bold lg:hidden" data-v-31836024="">TABLE OF CONTENTS</h2><ul class="group/root" data-v-31836024=""><!--[--><li><a href="#%E5%89%8D%E8%A8%80" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="前言">前言</span></a><!----></li><li><a href="#HOC" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="HOC">HOC</span></a><!----></li><li><a href="#Render%20Props" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="Render Props">Render Props</span></a><!----></li><li><a href="#React%20Hooks" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="React Hooks">React Hooks</span></a><!----></li><li><a href="#%E7%BB%93%E8%AF%AD" class="group/item text-foreground flex flex-nowrap items-center mb-1.5"><span class="hidden lg:block h-1 bg-foreground rounded-sm opacity-30 transition-300 shrink-0 group-hover/item:opacity-85" style="width:20px;margin-right:8px;"></span><span class="opacity-100 text-[color-mix(in_srgb,var(--foreground)_70%,transparent)] text-sm overflow-hidden text-ellipsis whitespace-nowrap transition-300 max-w-full flex-grow lg:opacity-0 lg:max-w-46 group-hover/root:opacity-100 group-hover/item:text-foreground lg:opacity-0" title="结语">结语</span></a><!----></li><!--]--></ul></nav></aside></div><hr class="border-border mt-10" data-v-31836024=""><div class="mt-10" data-v-31836024=""><div data-v-31836024=""><h2 class="text-xl font-bold mb-5"><a href="#comment" class="text-accent foreground-link">留言板</a></h2><div class="utterances-wrapper"></div></div></div><!--]--></main><footer class="text-center py-6 text-gray-500 dark:text-gray-400 text-sm"><div><span>© 2017-2025 Daief's Blog</span></div></footer><div></div></div><!--]--></div>
<script>window.__INITIAL_STATE__="{\"naiveUiStyles\":\"\"}"</script>
  

</body></html>