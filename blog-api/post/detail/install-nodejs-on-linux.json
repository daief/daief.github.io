{"id":"install-nodejs-on-linux","slug":"post/install-nodejs-on-linux","path":"/post/install-nodejs-on-linux","title":"Linux-安装、部署 Node.js","comments":true,"published":true,"date":"2017-09-17T19:34:55.000Z","updated":"","tags":[{"id":"edc9f0a5a5d57797bf68e37364743831","name":"Linux","postCount":3,"postIds":[]},{"id":"3b2819dd4c24eda2faf2052eef449551","name":"Node.js","postCount":3,"postIds":[]}],"categories":[{"id":"edc9f0a5a5d57797bf68e37364743831","name":"Linux","slug":"categories/Linux","path":"/categories/Linux","parentId":"","postCount":4,"postIds":[]}],"excerpt":"<p>CentOS 云主机上安装 Node.js，部署 node 应用。</p>\n","more":"\n\n<h2 id=\"安装 Node.js\">安装 Node.js<a name=\"安装 Node.js\" class=\"headerlink\" href=\"#安装 Node.js\"></a></h2><p>访问<a href=\"https://nodejs.org/en/download/\">官网</a>下载对应的包，将其上传到云主机的目录，例如<code>/usr/local/src/nodejs</code></p>\n<p>我下载的包<code>node-v8.4.0-linux-x64.tar.xz</code>，是.xz 格式的压缩包，现将其解压成.tar 格式：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\">xz -d node-v8.4.0-linux-x64.tar.xz</code></pre><p>如果系统没有 xz 命令，需要进行安装，运行：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\">yum install xz</code></pre><p>再对 tar 的包执行：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\">tar -xvf node-v8.4.0-linux-x64.tar</code></pre><p>然后进入目录，在<code>node/bin/</code>下执行：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\"><span class=\"hljs-comment\"># 看到版本号代表成功</span>\n./node -v\nv8.4.0</code></pre><p>配置环境变量，从而在其他目录使用<code>node</code>命令：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\"><span class=\"hljs-comment\"># 编辑profile</span>\nvim /etc/profile\n<span class=\"hljs-comment\"># 在最后加入以下内容，注意路径</span>\n<span class=\"hljs-built_in\">export</span> NODE_HOME=/usr/local/src/nodejs/node-v8.4.0-linux-x64\n<span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-variable\">$NODE_HOME</span>/bin:<span class=\"hljs-variable\">$PATH</span>\n<span class=\"hljs-built_in\">export</span> NODE_PATH=<span class=\"hljs-variable\">$NODE_HOME</span>/lib/node_modules:<span class=\"hljs-variable\">$PATH</span>\n\n<span class=\"hljs-comment\"># 保存退出，然后使之生效</span>\n<span class=\"hljs-built_in\">source</span> /etc/profile</code></pre><h2 id=\"部署、运行 node 项目\">部署、运行 node 项目<a name=\"部署、运行 node 项目\" class=\"headerlink\" href=\"#部署、运行 node 项目\"></a></h2><p>将 node 项目上传的云主机，执行：</p>\n<pre class=\"hljs language-bash\" hljs-language=\"bash\"><code style=\"display:block;\">node app.js</code></pre>","hash":"ad19071768ed141d75cf6786538e983d","isArticle":true,"sort":0,"filename":"","raw":"","prev":{"id":"deploy-java-app-on-linux","slug":"post/deploy-java-app-on-linux","path":"/post/deploy-java-app-on-linux","title":"Linux-部署 Java 应用程序","comments":true,"published":true,"date":"2017-09-17T18:50:38.000Z","updated":"","tags":[{"id":"edc9f0a5a5d57797bf68e37364743831","name":"Linux","postCount":3,"postIds":[]},{"id":"d52387880e1ea22817a72d3759213819","name":"Java","postCount":1,"postIds":[]}],"categories":[{"id":"edc9f0a5a5d57797bf68e37364743831","name":"Linux","slug":"categories/Linux","path":"/categories/Linux","parentId":"","postCount":4,"postIds":[]}],"excerpt":"<p>CentOS 云主机上部署 java 应用程序。</p>\n","more":"","hash":"7401edf451666f131ea75091c0a5dcf3","isArticle":true,"sort":0,"filename":"","raw":"","prev":null,"next":null,"tocHtml":""},"next":{"id":"http-get-request-cache","slug":"post/http-get-request-cache","path":"/post/http-get-request-cache","title":"ajax请求缓存","comments":true,"published":true,"date":"2017-09-17T19:41:45.000Z","updated":"","tags":[],"categories":[{"id":"9abfe4a03928eb88a75a5cd95822dfef","name":"前端","slug":"categories/前端","path":"/categories/前端","parentId":"","postCount":36,"postIds":[]}],"excerpt":"<p>浏览器的 GET 请求默认会有缓存，包括 ajax 的 GET 请求。</p>\n<p>如果两次请求的 url 相同的话，浏览器（不同缓存机制的浏览器会有所不同）会直接读取缓存里第一次请求的结果给第二次请求。</p>\n<p>缓存要缓存的好处，但有时我们并不需要 ajax 的请求被缓存。解决方式很简单只需更改请求的 url 即可，常用的就是加上时间戳，如下：</p>\n<pre class=\"hljs language-js\" hljs-language=\"js\"><code style=\"display:block;\"><span class=\"hljs-title function_\">ajax</span>(<span class=\"hljs-string\">`https://example.com?t=<span class=\"hljs-subst\">${<span class=\"hljs-built_in\">Date</span>.now()}</span>`</span>)</code></pre>","more":"","hash":"30b0a828c3825eaf8525133794028889","isArticle":true,"sort":0,"filename":"","raw":"","prev":null,"next":null,"tocHtml":""}}