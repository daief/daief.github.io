import{L as e,R as t,T as n,c as r,f as i,h as a,j as o,m as s,n as c,o as l,p as u,t as d,u as f}from"./app-DvX1Smg_.js";import"./isObject-STXFNBUz.js";import"./isSymbol-CUbBZ03s.js";import"./toNumber-CiYTsHHK.js";import"./now-BXsIGwzm.js";import{n as p,t as m}from"./toc-DNILfFl5.js";import{n as h,t as g}from"./meta-info-C-tMy3g2.js";import{t as _}from"./use-page-title-CHxbaOlI.js";var v={class:`relative`},y={key:0,class:`mt-10`},b=l(Object.assign({name:`Article`},{__name:`vm:_post_git-subtree_`,setup(l){_({title:`Git Subtree 的使用`,description:``});let{meta:b,toc:x}={meta:{title:`Git Subtree 的使用`,date:`2021-08-15T21:07:02.000Z`,id:`git-subtree`,categories:[`Git`],keywords:[`Git Subtree`],description:null,tags:[`Git`],sort:0,comments:!0,draft:!1},toc:[{id:`%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F`,text:`为什么？`,level:2,children:[],parent:``},{id:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`,text:`Subtree 的使用`,level:2,children:[{id:`%E6%B7%BB%E5%8A%A0`,text:`添加`,level:3,children:[],parent:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`},{id:`%E6%8B%89%E5%8F%96%E6%9B%B4%E6%96%B0%20subtree`,text:`拉取更新 subtree`,level:3,children:[],parent:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`},{id:`%E5%88%A0%E9%99%A4%E5%AD%90%E4%BB%93%E5%BA%93`,text:`删除子仓库`,level:3,children:[],parent:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`},{id:`%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E5%AF%B9%E5%AD%90%E4%BB%93%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0`,text:`推送本地对子仓库的更新`,level:3,children:[],parent:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`},{id:`%E4%BB%8E%E5%BD%93%E5%89%8D%E4%BB%93%E5%BA%93%E6%8B%86%E5%88%86%E5%87%BA%E5%AD%90%E4%BB%93%E5%BA%93`,text:`从当前仓库拆分出子仓库`,level:3,children:[],parent:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`}],parent:``},{id:`%E7%BB%93%E8%AF%AD`,text:`结语`,level:2,children:[],parent:``}]},{appState:S}=d();return(l,d)=>(n(),u(r,null,[f(`div`,v,[f(`article`,null,[f(`header`,null,[d[1]||=f(`h1`,{class:`text-foreground text-3xl font-bold mb-4`},` Git Subtree 的使用 `,-1),a(g,{meta:e(b)},null,8,[`meta`])]),a(h,{class:`mt-6`},{default:o(()=>[d[10]||=f(`p`,null,[s(`git 的 `),f(`code`,null,`subtree`),s(` 是一种复用源代码的方式，可以让多个仓库引用某个仓库的代码，也可以将仓库中的某个目录拆分成一个子仓库以供其他仓库使用。`)],-1),d[11]||=f(`p`,null,[s(`相较于 git 的 `),f(`code`,null,`submodule`),s(`，目前社区中多更推崇 subtree，自己在使用了一段时间后总体也是认为 subtree 会更好用一些。`)],-1),d[12]||=f(`p`,null,`但同时，两者都有各自的一些问题，而 subtree 的问题目前有其他方式规避，整体用起来比较流畅，所以最终选择了 subtree。`,-1),d[13]||=f(`blockquote`,null,[f(`p`,null,`实际上 subtree 命令需要在某个版本的 git 之后才被支持，但目前 git 的常用版本是完全足够的，所以也没去深究过。`)],-1),d[14]||=f(`a`,{id:`more`,href:`#more`,class:`block`},null,-1),d[15]||=f(`h2`,{id:`%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F`},[s(`为什么？`),f(`a`,{name:`%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F`,class:`headerlink`,href:`#%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F`})],-1),d[16]||=f(`p`,null,`在前端领域都有 npm 了，即使不想去做 npm 包的版本管理，也还有 script 直接引入的方式，为何还需要折腾 subtree 或是 submodule？`,-1),d[17]||=f(`p`,null,`首先需要认清的是，subtree 并不是为了取代已有的一些模式，而是为了弥补上述方式不能很好解决的一些场景。`,-1),d[18]||=f(`p`,null,`假设所在的业务线上，有两个产品 α、β，分别由两个仓库 A、B 维护，两个产品背后的业务逻辑有诸多相似，会存在一些共同的业务组件、方法或是更大的功能模块，同时这些内容可能会需要快速、同步地迭代。`,-1),d[19]||=f(`p`,null,`虽说这样的场景可能会比较少，但确实是我最近的处境。在此之前最初的解决方式就是拷贝，简单而直接；再后来迭代更新地多了，就蛋疼了，于是转成 npm 包的方式，好歹不再复制粘贴了；过了一段时间，又厌烦了，写业务代码的时候，需要把逻辑拆到另一个包里，还得去维护 npm 包的版本，完了依赖方得进行相应地升级，开发体验还是不流畅，往往最终又回归拷贝。`,-1),d[20]||=f(`p`,null,`想要表达的是，实际开发中会存在一些或零碎、或具备特定业务的特性、或需要快速更迭的内容，如何用合理的方式去复用，如何能保持开发的流畅性，如何尽可能多地解决问题，这些是现在所思考的问题。`,-1),d[21]||=f(`blockquote`,null,[f(`p`,null,`想起来这样的一个场景应该会是更常见，也是比较适合使用 subtree：原本一直在某个仓库上开发，时间久了自然会有一些仓库的沉淀（方法、组件），偶然有一天组里立项了一个新的项目，建了一个新的仓库，对于一个全新的仓库，你想使用之前的沉淀，这个时候该怎么办呢？（现实中遇到这种问题往往是通过拷贝，在多个仓库中能见到完全一样的代码，说明这种场景的代码复用实际上算是一个问题）`)],-1),d[22]||=f(`p`,null,`现在，私以为通过 subtree 能较好地解决上述的问题。`,-1),d[23]||=f(`h2`,{id:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`},[s(`Subtree 的使用`),f(`a`,{name:`Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`,class:`headerlink`,href:`#Subtree%20%E7%9A%84%E4%BD%BF%E7%94%A8`})],-1),d[24]||=f(`p`,null,`如何在已有仓库中引用另一个仓库，例如想要在 repo-a 中引用 sub-repo，且假定仓库的信息如下：`,-1),f(`ul`,null,[f(`li`,null,[d[3]||=s(`repo-a：`,-1),a(c,{target:`_blank`,href:`http://example.com/repo-a.git`},{default:o(()=>[...d[2]||=[s(`http://example.com/repo-a.git`,-1)]]),_:1})]),f(`li`,null,[d[5]||=s(`sub-repo：`,-1),a(c,{target:`_blank`,href:`http://example.com/sub-repo.git`},{default:o(()=>[...d[4]||=[s(`http://example.com/sub-repo.git`,-1)]]),_:1})])]),d[25]||=f(`h3`,{id:`%E6%B7%BB%E5%8A%A0`},[s(`添加`),f(`a`,{name:`%E6%B7%BB%E5%8A%A0`,class:`headerlink`,href:`#%E6%B7%BB%E5%8A%A0`})],-1),d[26]||=f(`p`,null,`首先需要在 repo-a 中添加子仓库 sub-repo，该命令只需在首次执行：`,-1),d[27]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` cd`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` repo-a`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` add`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --prefix=subtrees/sub-repo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` master`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 可以添加 squash 参数压缩自仓库的提交`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` add`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --prefix=subtrees/sub-repo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` master`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --squash`)])])],-1),d[28]||=f(`p`,null,[s(`该命令表示将 `),f(`code`,null,`http://example.com/sub-repo.git`),s(` 仓库 `),f(`code`,null,`master`),s(` 分支的内容添加到 `),f(`code`,null,`repo-a`),s(` 仓库的 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录。`)],-1),d[29]||=f(`p`,null,[s(`subtree 的一个好处开始体现了，对于 `),f(`code`,null,`repo-a`),s(` 的 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录，在日常使用中不需要特殊对待，它就是一个普通的目录，可以正常修改其中的内容、正常提交、正常地切分支、回滚或是 revert 等等。`)],-1),d[30]||=f(`h3`,{id:`%E6%8B%89%E5%8F%96%E6%9B%B4%E6%96%B0%20subtree`},[s(`拉取更新 subtree`),f(`a`,{name:`%E6%8B%89%E5%8F%96%E6%9B%B4%E6%96%B0%20subtree`,class:`headerlink`,href:`#%E6%8B%89%E5%8F%96%E6%9B%B4%E6%96%B0%20subtree`})],-1),d[31]||=f(`p`,null,[s(`当需要拉取子仓库的内容时，需要使用 `),f(`code`,null,`git subtree pull`),s(` 命令：`)],-1),d[32]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 同样支持 squash 参数`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` pull`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --prefix=subtrees/sub-repo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` master`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --squash`)])])],-1),d[33]||=f(`p`,null,[s(`该命令会将远端 `),f(`code`,null,`http://example.com/sub-repo.git`),s(` 仓库 `),f(`code`,null,`master`),s(` 分支的内容同步到当前 `),f(`code`,null,`repo-a`),s(` 仓库的 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录。`)],-1),d[34]||=f(`h3`,{id:`%E5%88%A0%E9%99%A4%E5%AD%90%E4%BB%93%E5%BA%93`},[s(`删除子仓库`),f(`a`,{name:`%E5%88%A0%E9%99%A4%E5%AD%90%E4%BB%93%E5%BA%93`,class:`headerlink`,href:`#%E5%88%A0%E9%99%A4%E5%AD%90%E4%BB%93%E5%BA%93`})],-1),d[35]||=f(`p`,null,[s(`直接删除 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录，将删除操作提交。`)],-1),d[36]||=f(`h3`,{id:`%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E5%AF%B9%E5%AD%90%E4%BB%93%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0`},[s(`推送本地对子仓库的更新`),f(`a`,{name:`%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E5%AF%B9%E5%AD%90%E4%BB%93%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0`,class:`headerlink`,href:`#%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E5%AF%B9%E5%AD%90%E4%BB%93%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0`})],-1),d[37]||=f(`p`,null,`subtree 也提供了原生的推送命令，但我个人并不推荐直接使用，不过还是得先记录下原生的用法。`,-1),d[38]||=f(`p`,null,[s(`当需要将本地 `),f(`code`,null,`subtrees/sub-repo`),s(` 的更新推送到源仓库的时候，可以使用 push 命令：`)],-1),d[39]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` push`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --prefix=subtrees/sub-repo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` master`)])])],-1),d[40]||=f(`p`,null,[s(`该命令会将本地仓库 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录下的内容推送到 `),f(`code`,null,`http://example.com/sub-repo.git`),s(` 的 `),f(`code`,null,`master`),s(` 分支。`)],-1),d[41]||=f(`p`,null,[f(`strong`,null,[s(`当执行 `),f(`code`,null,`git subtree push`),s(` 的时候，git 会去遍历当前所有的 commit，计算出其中对 `),f(`code`,null,`subtrees/sub-repo`),s(` 目录的修改，再将这些 commit 推送到子仓库去`)]),s(`。`)],-1),d[42]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 上述命令的输出，该仓库有 1470 个提交`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`1451/`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`  1470`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (1450) [19]`)])])],-1),d[43]||=f(`p`,null,`除了这个一千多提交的仓库，另一个我实际在日常迭代的仓库已达到了三千多的提交，这导致在 push 子仓库的时候就很痛苦，每次 push 都需要耗费大量时间来计算提交。`,-1),d[44]||=f(`p`,null,[s(`像这种三千多提交的大仓库，git 在执行计算的时候还可能因为性能问题直接抛出异常中断操作，原因可能是内存超过了操作系统给到这个程序的内存空间。该异常的错误信息常带有 `),f(`code`,null,`Segmentation fault: 11`),s(` 字样。`)],-1),d[45]||=f(`p`,null,`总之，我对 subtree 原生的 push 命令是拒绝的。为了解决推送的问题，我选择自定义脚本的方式去实现，过程就是每次推送的时候进入子目录，初始化一个临时的仓库，将子目录的仓库进行提交并推送即可，脚本的大概内容如下：`,-1),d[46]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// subtrees/sub-repo/scripts/push.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` path`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`path`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` fs`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`fs`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` exec`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` }`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`child_process`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` dayjs`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`dayjs`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` baseRoot`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` path`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`resolve`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`__dirname`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`..`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` baseGit`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` path`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`resolve`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`baseRoot`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`.git`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` hasGit`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`()`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`  try`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`    return`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` fs`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`statSync`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`baseGit`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`isDirectory`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`()`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`  }`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},` catch`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`error`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`    return`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FF5874`,"--shiki-dark-font-style":`italic`}},` false`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`  }`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`}`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)();`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` now`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` dayjs`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`();`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` branchName`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}}," `"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#ECC48D`,"--shiki-dark-font-style":`italic`}},`script/`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`now`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`format`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`YYYY-MM-DD_HH_mm`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` commands`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`  ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`hasGit`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    ?`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` []`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    :`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`git init`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`git remote add origin http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"        `"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#ECC48D`,"--shiki-dark-font-style":`italic`}},`git checkout -b `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`branchName`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      ])`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`  '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`git add .`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"  `"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#ECC48D`,"--shiki-dark-font-style":`italic`}},`git commit -m "script: `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`now`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`format`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`YYYY-MM-DD HH:mm:ss`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#ECC48D`,"--shiki-dark-font-style":`italic`}},`" -n`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`  '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`git pull origin master --allow-unrelated-histories`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"  `"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#ECC48D`,"--shiki-dark-font-style":`italic`}},`git push origin HEAD:`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`branchName`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`];`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`exec`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`  commands`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`join`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},` && `),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    cwd`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` baseRoot`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`  (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`error`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` stdout`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` stderr`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`error`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      console`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`error`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`error`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      console`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`log`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`Error:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\n`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` stderr`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    } `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`else`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      console`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`log`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`stdout`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      console`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`log`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\n`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` stderr`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`      exec`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`rm -r `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`baseGit`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)])])],-1),d[47]||=f(`p`,null,[s(`这样一来，需要 push 的时候只需执行 `),f(`code`,null,`node subtrees/sub-repo/scripts/push.js`),s(`，完成之后会在远端新建一个临时分支，真正合并的时候在 gitlab 或 github 提交 MR 即可，这样一来子仓库的改动也能经过团队的评审。`)],-1),d[48]||=f(`p`,null,[s(`push 的脚本里会自动拉取同步一下 master 分支，可能会出现冲突的情况，此时只需在本地解决冲突，进行提交，再次执行 `),f(`code`,null,`push.js`),s(` 脚本即可。`)],-1),d[49]||=f(`p`,null,`使用这种推送方式，就不再有上述“遍历 commit”的问题，心情都舒畅了。不过这种方式会导致子仓库的提交信息被丢失，但实际上问题不大，因为主仓库中会包含子仓库的相关文件的改动。`,-1),d[50]||=f(`h3`,{id:`%E4%BB%8E%E5%BD%93%E5%89%8D%E4%BB%93%E5%BA%93%E6%8B%86%E5%88%86%E5%87%BA%E5%AD%90%E4%BB%93%E5%BA%93`},[s(`从当前仓库拆分出子仓库`),f(`a`,{name:`%E4%BB%8E%E5%BD%93%E5%89%8D%E4%BB%93%E5%BA%93%E6%8B%86%E5%88%86%E5%87%BA%E5%AD%90%E4%BB%93%E5%BA%93`,class:`headerlink`,href:`#%E4%BB%8E%E5%BD%93%E5%89%8D%E4%BB%93%E5%BA%93%E6%8B%86%E5%88%86%E5%87%BA%E5%AD%90%E4%BB%93%E5%BA%93`})],-1),d[51]||=f(`p`,null,[s(`另一种情况是需要在一个已有的主仓库中拆离出一个子仓库，此时可以使用 `),f(`code`,null,`git subtree split`),s(`：`)],-1),d[52]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 先执行 split 生成临时分支 subtree/split-tmp`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` split`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --prefix=subtrees/sub-repo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --rejoin`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --branch`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree/split-tmp`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 再将临时分支 subtree/split-tmp 推送到子仓库的 master`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` push`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` http://example.com/sub-repo.git`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` subtree/split-tmp:master`)])])],-1),d[53]||=f(`p`,null,[s(`命令 `),f(`code`,null,`git subtree split`),s(` 相当于将目录拆分为独立的分支，即子树拆分。拆分后形成的分支可以通过推送到新的版本库实现原版本库的目录独立为一个新的版本库。`)],-1),d[54]||=f(`h2`,{id:`%E7%BB%93%E8%AF%AD`},[s(`结语`),f(`a`,{name:`%E7%BB%93%E8%AF%AD`,class:`headerlink`,href:`#%E7%BB%93%E8%AF%AD`})],-1),d[55]||=f(`p`,null,`submodule 我也简单使用过，它和 subtree 很大的不同就是在一个项目中会同时存在多个 git 仓库，在使用的过程中需要要关心改动是在父仓库、还是在子仓库。而 subtree 除了在与子仓库交互的时候（add、pull、push），其他情况完全可以抛弃 subtree 的概念，所谓子仓库就是仓库中的一个目录，对于切分支、回滚等操作都很友好，推送的问题也能使用简单的方式进行规避，所以我也更推崇 subtree。`,-1),d[56]||=f(`p`,null,`参考资料：`,-1),f(`ul`,null,[f(`li`,null,[a(c,{target:`_blank`,href:`https://juejin.cn/post/6881580754854215687`},{default:o(()=>[...d[6]||=[s(`Git subtree 用法与常见问题分析`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://juejin.cn/post/6936459179049615397`},{default:o(()=>[...d[7]||=[s(`Git SubTree 使用`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://tech.youzan.com/git-subtree/`},{default:o(()=>[...d[8]||=[s(`用 Git Subtree 在多个 Git 项目间双向同步子项目，附简明使用手册`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://www.worldhello.net/gotgit/04-git-model/050-subtree-model.html#git-subtree-split`},{default:o(()=>[...d[9]||=[s(`4.5 子树合并`,-1)]]),_:1})])])]),_:1})]),e(x).length?(n(),u(`aside`,{key:0,class:t([e(S).showIndexSidebar?`bg-[#00000080]`:`pointer-events-none`,`fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300`,`lg:pointer-events-auto`,`lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]`]),onClick:d[0]||=(...e)=>l.hideIndexSidebar&&l.hideIndexSidebar(...e)},[f(`nav`,{class:t([`overflow-y-auto text-foreground overscroll-contain bg-background`,`w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl`,`absolute top-0 transition-300 right-0`,e(S).showIndexSidebar?`translate-x-0`:`translate-x-full`,`lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none`,`lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0`])},[d[57]||=f(`h2`,{class:`mb-2 font-bold lg:hidden`},`TABLE OF CONTENTS`,-1),a(m,{toc:e(x)},null,8,[`toc`])],2)],2)):i(``,!0)]),d[58]||=f(`hr`,{class:`border-border mt-10`},null,-1),e(b).comments?(n(),u(`div`,y,[a(p)])):i(``,!0)],64))}}),[[`__scopeId`,`data-v-f1375485`]]);export{b as default};