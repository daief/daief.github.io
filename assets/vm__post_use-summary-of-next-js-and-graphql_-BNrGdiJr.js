import{L as e,R as t,T as n,c as r,f as i,h as a,j as o,m as s,n as c,o as l,p as u,t as d,u as f}from"./app-DvX1Smg_.js";import"./isObject-STXFNBUz.js";import"./isSymbol-CUbBZ03s.js";import"./toNumber-CiYTsHHK.js";import"./now-BXsIGwzm.js";import{n as p,t as m}from"./toc-DNILfFl5.js";import{n as h,t as g}from"./meta-info-C-tMy3g2.js";import{t as _}from"./use-page-title-CHxbaOlI.js";var v={class:`relative`},y={key:0,class:`mt-10`},b=l(Object.assign({name:`Article`},{__name:`vm:_post_use-summary-of-next-js-and-graphql_`,setup(l){_({title:`Next.js、GraphQL 使用小结`,description:``});let{meta:b,toc:x}={meta:{title:`Next.js、GraphQL 使用小结`,date:`2019-07-03T19:11:51.000Z`,id:`use-summary-of-next-js-and-graphql`,categories:[`前端`],keywords:[`Next.js`,`SSR`,`GraphQL`],description:null,tags:[`SSR`,`GraphQL`],sort:0,comments:!0,draft:!1},toc:[{id:`%E7%AE%80%E4%BB%8B`,text:`简介`,level:2,children:[{id:`nextjs-ssr`,text:`nextjs-ssr`,level:3,children:[],parent:`%E7%AE%80%E4%BB%8B`},{id:`gql-server`,text:`gql-server`,level:3,children:[],parent:`%E7%AE%80%E4%BB%8B`},{id:`nextjs-static`,text:`nextjs-static`,level:3,children:[],parent:`%E7%AE%80%E4%BB%8B`}],parent:``},{id:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`,text:`Next.js 使用问题`,level:2,children:[{id:`%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86`,text:`样式文件的处理`,level:3,children:[],parent:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`},{id:`%E5%9B%BE%E7%89%87%E7%AD%89%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86`,text:`图片等静态文件处理`,level:3,children:[],parent:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`},{id:`Monorepo%20%E4%B8%AD%E7%9A%84%20Babel%20%E9%85%8D%E7%BD%AE`,text:`Monorepo 中的 Babel 配置`,level:3,children:[],parent:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`},{id:`%E5%9B%BD%E9%99%85%E5%8C%96%E8%AF%AD%E8%A8%80%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98`,text:`国际化语言渲染问题`,level:3,children:[],parent:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`}],parent:``},{id:`%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98`,text:`其他问题`,level:2,children:[{id:`SSR%20%E9%83%A8%E7%BD%B2%E6%9C%9F%E9%97%B4%E7%9A%84%E9%97%AE%E9%A2%98`,text:`SSR 部署期间的问题`,level:3,children:[],parent:`%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98`}],parent:``},{id:`GraphQL%20%E6%9C%8D%E5%8A%A1`,text:`GraphQL 服务`,level:2,children:[],parent:``},{id:`%E7%BB%93%E8%AF%AD`,text:`结语`,level:2,children:[],parent:``}]},{appState:S}=d();return(l,d)=>(n(),u(r,null,[f(`div`,v,[f(`article`,null,[f(`header`,null,[d[1]||=f(`h1`,{class:`text-foreground text-3xl font-bold mb-4`},` Next.js、GraphQL 使用小结 `,-1),a(g,{meta:e(b)},null,8,[`meta`])]),a(h,{class:`mt-6`},{default:o(()=>[f(`p`,null,[d[3]||=s(`近段时间里使用 `,-1),a(c,{target:`_blank`,href:`https://github.com/zeit/next.js`},{default:o(()=>[...d[2]||=[s(`Next.js`,-1)]]),_:1}),d[4]||=s(` 搭建了两个后台，同时还使用了 GraphQL。期间匆匆忙忙，而且项目都是另一个前端老哥搭建的。所以，自己又抽空从头开始搭建了几个 demo，回顾一下知识，同时整理了一下当时遇见的问题、梳理下其中缘由。`,-1)]),d[80]||=f(`p`,null,[s(`本文主要内容包括三个 demo 的介绍，并记录一些在开发过程中遇到的问题和解决，本文对应 Next.js 版本为 `),f(`del`,null,`v8.0.3`),s(`。写的时候发现 Next.js 升级到 v9.0.0 了，自带 TypeScript 支持了，果断把 demo 的版本也升级了。`)],-1),f(`p`,null,[d[6]||=s(`上一篇文章（`,-1),a(c,{href:`/post/get-a-ssr-demo-step-by-step/`},{default:o(()=>[...d[5]||=[s(`从零搭建 SSR`,-1)]]),_:1}),d[7]||=s(`）介绍了从零搭建 SSR 的过程，并且附带了一些问题的讲解，推荐结合阅读。`,-1)]),f(`p`,null,[d[9]||=s(`那么，按照惯例就先呈上 demo 地址：`,-1),a(c,{target:`_blank`,href:`https://github.com/daief/react-ssr`},{default:o(()=>[...d[8]||=[s(`react-ssr`,-1)]]),_:1}),d[10]||=s(`。`,-1)]),d[81]||=f(`a`,{id:`more`,href:`#more`,class:`block`},null,-1),d[82]||=f(`h2`,{id:`%E7%AE%80%E4%BB%8B`},[s(`简介`),f(`a`,{name:`%E7%AE%80%E4%BB%8B`,class:`headerlink`,href:`#%E7%AE%80%E4%BB%8B`})],-1),d[83]||=f(`p`,null,`本节对三个 demo 作个简单介绍。`,-1),d[84]||=f(`p`,null,`正常运行该项目需要配置本地 hosts。`,-1),d[85]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# hosts`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 模拟 gql-server 的域名`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`127.0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`			gql-server.example.com`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 模拟应用 account 的域名（nextjs-ssr 或 nextjs-static）`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`127.0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`			account.example.com`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 模拟应用 customer 的域名（nextjs-ssr 或 nextjs-static）`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`127.0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`			customer.example.com`)])])],-1),d[86]||=f(`p`,null,[s(`或者在 `),f(`code`,null,`packages/shared/CONFIG.ts`),s(` 文件中修改成其他域名配置，然后通过域名 + 端口的形式访问本地开发环境。`)],-1),d[87]||=f(`h3`,{id:`nextjs-ssr`},[s(`nextjs-ssr`),f(`a`,{name:`nextjs-ssr`,class:`headerlink`,href:`#nextjs-ssr`})],-1),f(`blockquote`,null,[f(`p`,null,[d[12]||=s(`地址：`,-1),a(c,{target:`_blank`,href:`https://github.com/daief/react-ssr/tree/master/packages/nextjs-ssr`},{default:o(()=>[...d[11]||=[s(`https://github.com/daief/react-ssr/tree/master/packages/nextjs-ssr`,-1)]]),_:1})])]),f(`p`,null,[d[14]||=s(`这第一个 demo 对应业务开发中的第一个后台，该后台是一个对内的、管理各种应用的后台，其中一个功能需要实现各个应用间的`,-1),a(c,{target:`_blank`,href:`https://en.wikipedia.org/wiki/Single_sign-on`},{default:o(()=>[...d[13]||=[s(`单点登录（SSO）`,-1)]]),_:1}),d[15]||=s(`。`,-1)]),f(`p`,null,[d[17]||=s(`Java 端基于 `,-1),a(c,{target:`_blank`,href:`https://en.wikipedia.org/wiki/JSON_Web_Token`},{default:o(()=>[...d[16]||=[s(`JWT（Json web token）`,-1)]]),_:1}),d[18]||=s(` 实现授权认证，前端应用在请求时需要把 token 加到请求头当中，同时也会将 token 缓存于 localStorage。`,-1)]),d[88]||=f(`p`,null,`这里的每个应用都有一个不同的二级域名（如 a.example.com、b.example.com），而 localStorage 由于跨域限制，前端应用之间不能共享 token，在这种情况打开新的应用时就会需要重新登录。`,-1),d[89]||=f(`p`,null,`因此，新的方案是把 token 存储在 cookie 里，并设置 Domain 为根域名（.example.com）。如此一来各个应用之间直接就共享 token，而且每个应用不再需要维护 token。`,-1),d[90]||=f(`p`,null,`因为这是一个对内的应用，同时出于对技术的追求，该项目决定试用 SSR，选型 Next.js。同时前端组表示可以用中间层来做 cookie 的维护，而 Java 端一切保持不变。加上了 Node 层之后，又顺理成章地加上了 GraphQL Server。`,-1),d[91]||=f(`h3`,{id:`gql-server`},[s(`gql-server`),f(`a`,{name:`gql-server`,class:`headerlink`,href:`#gql-server`})],-1),f(`blockquote`,null,[f(`p`,null,[d[20]||=s(`地址：`,-1),a(c,{target:`_blank`,href:`https://github.com/daief/react-ssr/tree/master/packages/gql-server`},{default:o(()=>[...d[19]||=[s(`https://github.com/daief/react-ssr/tree/master/packages/gql-server`,-1)]]),_:1})])]),d[92]||=f(`p`,null,`这是一个独立的中间层，主要作用是提供 GraphQL 服务、cookie 管理。`,-1),d[93]||=f(`p`,null,`其实上面选择用 Next.js 做 SSR 的时候就已经添加了一个 Node 服务，但这里还是另外再起了一个服务，依我的想法出于两个原因：Next.js 服务专门负责 SSR，这边专门提供 GraphQL 服务，职责会比较清晰；两者同一个服务时，Next.js 会作为一个中间来件运作，开发调试时若修改服务端部分代码调试工具会自动重启服务，这就会导致 next 部分也重启了、而且得重新编译，很费时间。`,-1),f(`p`,null,[d[22]||=s(`该项目基于 `,-1),a(c,{target:`_blank`,href:`https://www.apollographql.com/docs/`},{default:o(()=>[...d[21]||=[s(`Apollo GraphQL`,-1)]]),_:1}),d[23]||=s(` 系列搭建。`,-1)]),d[94]||=f(`p`,null,`nextjs-ssr + gql-server + Java 的整体运作情况如下。`,-1),d[95]||=f(`p`,null,[f(`img`,{alt:`sequence-chart.jpg`,loading:`lazy`,title:`sequence-chart.jpg`,class:`post-image`,src:`/assets/sequence-chart-BSMlgd60.jpg`,onerror:`this.onerror=null;this.src='/images/image-error.jpg';`})],-1),d[96]||=f(`h3`,{id:`nextjs-static`},[s(`nextjs-static`),f(`a`,{name:`nextjs-static`,class:`headerlink`,href:`#nextjs-static`})],-1),f(`blockquote`,null,[f(`p`,null,[d[25]||=s(`地址：`,-1),a(c,{target:`_blank`,href:`https://github.com/daief/react-ssr/tree/master/packages/nextjs-static`},{default:o(()=>[...d[24]||=[s(`https://github.com/daief/react-ssr/tree/master/packages/nextjs-static`,-1)]]),_:1})])]),d[97]||=f(`p`,null,`该 demo 也使用 Next.js 框架，但依赖的是 Prerender 的功能，最终是静态部署，所以项目中踢除、避免 Server 端的代码。（该 demo 对应第二个后台，只是个常规的管理后台）`,-1),d[98]||=f(`p`,null,`请求部分依旧使用了 GraphQL，不过该项目没有对应的 GraphQL 服务，API 是 REST 形式的。`,-1),f(`p`,null,[d[27]||=s(`通过 `,-1),a(c,{target:`_blank`,href:`https://www.apollographql.com/docs/link/`},{default:o(()=>[...d[26]||=[s(`apollo-link`,-1)]]),_:1}),d[28]||=s(`（可看作是 apollo-client 的中间件）使得 GraphQL 变得十分灵活、不仅仅是依赖于 GraphQL 服务而使用。`,-1)]),d[99]||=f(`blockquote`,null,[f(`p`,null,`apollo-client 是用于发起 GraphQL 请求的一种客户端框架。`)],-1),f(`p`,null,[d[30]||=s(`这里的主角是 `,-1),a(c,{target:`_blank`,href:`https://www.apollographql.com/docs/link/links/rest/`},{default:o(()=>[...d[29]||=[s(`apollo-link-rest`,-1)]]),_:1}),d[31]||=s(`，让我们很轻易地通过 GraphQL 调用 REST API。`,-1)]),d[100]||=f(`p`,null,`这样可以在前端实现接口聚合、字段查询（基于真实接口的返回）等 GraphQL 的特色功能。`,-1),d[101]||=f(`h2`,{id:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`},[s(`Next.js 使用问题`),f(`a`,{name:`Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`,class:`headerlink`,href:`#Next.js%20%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98`})],-1),d[102]||=f(`p`,null,`下面把和 Next.js 有关的问题聚合在这一节。`,-1),d[103]||=f(`h3`,{id:`%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86`},[s(`样式文件的处理`),f(`a`,{name:`%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86`,class:`headerlink`,href:`#%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86`})],-1),f(`p`,null,[d[33]||=s(`这个应该是使用 SSR 时候的经典问题了，不过有关样式文件在 SSR 中的问题在`,-1),a(c,{href:`/post/get-a-ssr-demo-step-by-step/`},{default:o(()=>[...d[32]||=[s(`从零搭建 SSR`,-1)]]),_:1}),d[34]||=s(`有详细解读，这里只说明该问题在 Next.js 中的具体解决以及和 Next.js 有关的注意点。`,-1)]),d[104]||=f(`p`,null,`这个问题主要可概括为两点：一是缺少 webpack 对于 CSS、Less 的配置；二是 SSR 项目运行的特点。`,-1),f(`p`,null,[d[37]||=s(`添加相应的 webpack 配置，可使用官方的配置扩展插件：`,-1),a(c,{target:`_blank`,href:`https://github.com/zeit/next-plugins/tree/master/packages/next-css`},{default:o(()=>[...d[35]||=[s(`@zeit/next-css`,-1)]]),_:1}),d[38]||=s(`、`,-1),a(c,{target:`_blank`,href:`https://github.com/zeit/next-plugins/tree/master/packages/next-less`},{default:o(()=>[...d[36]||=[s(`@zeit/next-less`,-1)]]),_:1}),d[39]||=s(`，然后在 `,-1),d[40]||=f(`code`,null,`next.config.js`,-1),d[41]||=s(` 中使用：`,-1)]),d[105]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withCSS`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`@zeit/next-css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withCSS`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`  withLess`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`    /* config options here */`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    cssModules`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},` /* 开启 cssModules */`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` true`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    lessLoaderOptions`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      javascriptEnabled`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` true`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    cssLoaderOptions`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      importLoaders`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},` 1`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      localIdentName`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`[local]_[hash:base64:5]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  })`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)])])],-1),d[106]||=f(`p`,null,`如此一来，项目中就能正常引用样式文件了。`,-1),d[107]||=f(`blockquote`,null,[f(`p`,null,`坑点：引入第三方组件库如 antd 时样式依旧会报错。`)],-1),d[108]||=f(`p`,null,[s(`最为简单的方式，在 `),f(`code`,null,`next.config.js`),s(` 顶部添加：`)],-1),d[109]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`typeof`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` require`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` !==`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`undefined`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`  require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`extensions`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`.css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`] `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`=`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`file`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {};`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`  require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`extensions`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`.less`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`] `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`=`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`file`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {};`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`}`)])])],-1),d[110]||=f(`blockquote`,null,[f(`p`,null,`坑点：所有的样式文件都开启了 CSS modules；打包时样式依旧报错。`)],-1),d[111]||=f(`p`,null,[s(`尝试自定义 webpack 的样式配置，简单粗暴之处在于所有（Server & Client）样式都过一遍 loader。在这样的配置下，只要在需要开启 CSS modules 的地方添加 `),f(`code`,null,`:local()`),s(` 即可。（以下配置基于 css-loader@^3，顺便一提官方插件所用的是 css-loader@1，两者配置之间会有差异）`)],-1),d[112]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// withStyle.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` MiniCssExtractPlugin`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`mini-css-extract-plugin`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` OptimizeCSSAssetsPlugin`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`optimize-css-assets-webpack-plugin`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`nextConfig`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {}`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`  return`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` Object`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`assign`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({}`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` nextConfig`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`    webpack`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`config`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#82AAFF`}},`      const`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` dev`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` isServer`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` }`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#82AAFF`}},`      const`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`        cssLoaderOptions`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`        postcssLoaderOptions`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`        lessLoaderOptions`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {}`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`      }`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` nextConfig`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`css`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          loader`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` MiniCssExtractPlugin`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`loader`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          loader`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`css-loader`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          options`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`            sourceMap`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` dev`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`            modules`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`              mode`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`global`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`              localIdentName`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`[local]--[hash:base64:5]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`            }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`            ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`cssLoaderOptions`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      ];`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`less`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`        ...`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`css`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          loader`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`less-loader`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          options`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`            javascriptEnabled`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` true`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`            ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`lessLoaderOptions`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      ];`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      config`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`module`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`rules`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`push`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          test`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\.`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`css`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          use`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`css`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          test`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\.`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`less`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          use`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`less`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      );`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      config`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`plugins`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`push`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`        new`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` MiniCssExtractPlugin`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`          // 要加上 static，否则打包后 404`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          filename`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` dev`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`            ?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`static/css/[name].css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`            :`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`static/css/[name].[contenthash:8].css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          chunkFilename`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` dev`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`            ?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`static/css/[name].chunk.css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`            :`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`static/css/[name].[contenthash:8].chunk.css`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        })`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`        new`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`webpack-filter-warnings-plugin`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`))({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          exclude`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`mini-css-extract-plugin`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`^`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`]`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`*`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`Conflicting order between:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        })`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      );`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`      if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`!`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`dev`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` &&`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` !`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`isServer`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`        // 构建模式 & Client 才开启压缩`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`        config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`optimization`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`minimizer`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`          ...`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`optimization`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`minimizer`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`          new`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` OptimizeCSSAssetsPlugin`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({})`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        ];`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      }`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`      // ......`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  });`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`};`)])])],-1),d[113]||=f(`p`,null,`最后再修改 externals 配置，放开 antd 的样式就能支持了。`,-1),d[114]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// 这种配置下就不需要在顶部添加对 require 的处理了`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withStyle`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`@react-ssr/shared/next-config/withStyle`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withStyle`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`  webpack`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`config`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`isServer`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`      // https://github.com/zeit/next.js/blob/canary/examples/with-ant-design/next.config.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`      // 如果有其他 UI 库的样式，在此补充`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#82AAFF`}},`      const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` antStyles`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#5CA7E4`,"--shiki-dark-font-style":`italic`}},`antd`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#F78C6C`,"--shiki-dark-font-style":`italic`}},`\\/`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`*?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#F78C6C`,"--shiki-dark-font-style":`italic`}},`\\/`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#5CA7E4`,"--shiki-dark-font-style":`italic`}},`style`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`*?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#82AAFF`}},`      const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` origExternals`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`...`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#BAEBE2`,"--shiki-dark-font-style":`italic`}},`externals`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`];`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`      config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`externals`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`        (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`context`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` request`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` callback`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`          if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`request`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`match`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`antStyles`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)) `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`return`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` callback`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`();`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`          if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`typeof`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` origExternals`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`0`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`] `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`===`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`function`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`            origExternals`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`0`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`](`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`context`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` request`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` callback`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          } `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`else`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`            callback`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`();`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`          }`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`        ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`typeof`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` origExternals`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`0`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`] `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`===`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`function`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` ?`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [] `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` origExternals`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      ];`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`    return`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},` config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`});`)])])],-1),d[115]||=f(`blockquote`,null,[f(`p`,null,`坑点：打包后，前端路由切换页面时样式丢失。`)],-1),d[116]||=f(`p`,null,`这是因为样式在打包后，根据页面被拆分开来。而当第一打开页面时，SSR 渲染的 HTML 文档中只包含当前页面的 CSS 链接，此时在前端切换页面时也不会去加载缺失的样式文件。目前为止的解决方式是将所有的样式打包在一起，添加对应的如下配置。`,-1),d[117]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// withStyle.js`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// ...`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},` ()`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` ({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`  webpack`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`()`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`    // 把所有 css 合并，因为前端路由切换页面的时候不会拉取对应的 css 文件`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`    // 服务端配置走不走不影响`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`    config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`optimization`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`splitChunks`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`cacheGroups`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`styles`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      name`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`styles`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      test`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\.`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`(css`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`less)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      chunks`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`all`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      enforce`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` true`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    };`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`    // ...`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`});`)])])],-1),d[118]||=f(`h3`,{id:`%E5%9B%BE%E7%89%87%E7%AD%89%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86`},[s(`图片等静态文件处理`),f(`a`,{name:`%E5%9B%BE%E7%89%87%E7%AD%89%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86`,class:`headerlink`,href:`#%E5%9B%BE%E7%89%87%E7%AD%89%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86`})],-1),f(`p`,null,[d[43]||=s(`Next.js 对 `,-1),a(c,{target:`_blank`,href:`https://github.com/zeit/next.js#static-file-serving-eg-images`},{default:o(()=>[...d[42]||=[s("`static/` 目录有特殊的支持",-1)]]),_:1}),d[44]||=s(`，推荐将静态资源放在这个目录，通过 `,-1),d[45]||=f(`code`,null,`/static/some/target.png`,-1),d[46]||=s(` 的形式进行引用。而且在 v9.0.0 版本在打包时还会自动对 `,-1),d[47]||=f(`code`,null,`static/`,-1),d[48]||=s(` 目录内的文件进行压缩。`,-1)]),d[119]||=f(`p`,null,[s(`但还是存在 `),f(`code`,null,`import img from './a.png'`),s(` 的需求，这时同样进行 webpack 的配置作为支持即可。注意，如下配置 file-loader 实际上对图片处理了两遍，只是输出路径一致最终只有一份。`)],-1),d[120]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`config`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`module`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`rules`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`push`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  test`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\.`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`(jpe`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`g`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`png`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`svg`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`gif`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`ico`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`webp)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  use`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      loader`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`url-loader`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      options`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        limit`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},` 8192`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        fallback`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`file-loader`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        publicPath`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}}," `"),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`/_next/static/images/`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        outputPath`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}}," `"),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},"${"),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`isServer`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` ?`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`../`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},`'`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` :`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},` ''`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D3423E`}},`}`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`static/images/`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D6DEEB`}},"`"),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`        name`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`[name]-[hash].[ext]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  ]`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`});`)])])],-1),d[121]||=f(`h3`,{id:`Monorepo%20%E4%B8%AD%E7%9A%84%20Babel%20%E9%85%8D%E7%BD%AE`},[s(`Monorepo 中的 Babel 配置`),f(`a`,{name:`Monorepo%20%E4%B8%AD%E7%9A%84%20Babel%20%E9%85%8D%E7%BD%AE`,class:`headerlink`,href:`#Monorepo%20%E4%B8%AD%E7%9A%84%20Babel%20%E9%85%8D%E7%BD%AE`})],-1),f(`p`,null,[d[50]||=s(`当项目以 `,-1),a(c,{target:`_blank`,href:`https://en.wikipedia.org/wiki/Monorepo`},{default:o(()=>[...d[49]||=[s(`Monorepo`,-1)]]),_:1}),d[51]||=s(` 方式组织，同时引用其他子包内容时，引用的部分是不会经过 Babel 处理的。`,-1)]),d[122]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// Next.js 中 webpack 的 Babel 配置`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// https://github.com/zeit/next.js/blob/aac4e21d46f300d8433b0bd94a7a0f51e443b7d4/packages/next/build/webpack-config.ts#L394`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`  // ...`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    test`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\.`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`(tsx`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`ts`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`js`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`mjs`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`jsx)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    include`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`      dir`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`      /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next-server`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`lib`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`      /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`client`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`      /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`pages`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`      /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`(strip-ansi`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`ansi-regex)`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    ]`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`    exclude`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},` (`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},` string`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`      if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next-server`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`lib`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`test`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`||`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`client`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`test`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`||`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`next`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`dist`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`pages`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`test`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) `),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`||`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`        /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`(strip-ansi`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`|`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`ansi-regex)`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`[`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#F78C6C`}},`\\\\`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#82AAFF`}},`/]`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`test`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      ) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`        return`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` false`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      }`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`      return`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` /`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#5CA7E4`}},`node_modules`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`/`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`test`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`path`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    use`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` defaultLoaders`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`babel`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`  // ...`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`];`)])])],-1),f(`p`,null,[d[53]||=s(`插件 `,-1),a(c,{target:`_blank`,href:`https://www.npmjs.com/package/next-transpile-modules`},{default:o(()=>[...d[52]||=[s(`next-transpile-modules`,-1)]]),_:1}),d[54]||=s(` 可以很方便地解决这个问题。`,-1)]),d[123]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// https://github.com/zeit/next.js/blob/aac4e21d46f300d8433b0bd94a7a0f51e443b7d4/examples/with-yarn-workspaces/packages/web-app/next.config.js#L1`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withTM`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` require`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`next-transpile-modules`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` withTM`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},"  // `@react-ssr/shared` 是 Monorepo 结构下的其他模块的包名")]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  transpileModules`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`@react-ssr/shared`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`]`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`});`)])])],-1),d[124]||=f(`blockquote`,null,[f(`p`,null,`坑点：虽然经过如上改造，Babel 会对其他子包进行编译，但是发现 Next.js 项目模块下的 Babel 插件配置（.babelrc）对子包范围内的代码并不生效。`)],-1),d[125]||=f(`p`,null,`其实这一点来源 Babel 7 对于配置的变化，Babel 7 新增了根（root）的概念，默认是当前工作目录，也就是 Next.js 项目模块的级别（packages/nextjs-ssr/），此时 Babel 缺少、也不会去读取他子包的插件配置。`,-1),f(`p`,null,[d[56]||=s(`Babel 推荐在所有 Monorepo 项目的根目录添加 `,-1),d[57]||=f(`code`,null,`babel.config.js`,-1),d[58]||=s(`，以此建立了 Babel 的核心概念。但这对于上述问题的解决还不够，在这里我通过设置 `,-1),d[59]||=f(`code`,null,`rootMode: upward`,-1),d[60]||=s(` 告诉 Babel 向上级寻找，Babel 会自动寻找 `,-1),d[61]||=f(`code`,null,`babel.config.js`,-1),d[62]||=s(` 并将其设置为 root 的值（`,-1),a(c,{target:`_blank`,href:`https://babeljs.io/docs/en/config-files#project-wide-configuration`},{default:o(()=>[...d[55]||=[s(`更多详细内容可查看官方文章 —— Config Files`,-1)]]),_:1}),d[63]||=s(`）。`,-1)]),d[126]||=f(`p`,null,`具体配置如下。`,-1),d[127]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`// next.config.js`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`module`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},`exports`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`  webpack`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`config`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`    config`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`module`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`rules`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`forEach`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`rule`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`      // 这里的改动比较暴力，因为 Next.js 没有直接暴露更改内建 loader 参数的地方`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`      if`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`rule`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`use`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` &&`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},` rule`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`use`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`loader`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` ===`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`next-babel-loader`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`) {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`        // 设置 babel 向上寻找 babel.config.js，然后将其所在的路径作为根（root）`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`        // 否则编译其他 package 时不会加载 babel 插件`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`        // https://babeljs.io/docs/en/config-files#project-wide-configuration`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#7FDBCA`,"--shiki-dark-font-style":`italic`}},`        rule`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`use`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`options`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#BAEBE2`}},`rootMode`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`upward`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`      }`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`    });`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`    // ...`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#D6DEEB`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`};`)])])],-1),d[128]||=f(`p`,null,[s(`如此一来，再将 Babel 插件配置在 `),f(`code`,null,`babel.config.js`),s(`，那么 Babel 插件在其他模块也会起作用了。`)],-1),d[129]||=f(`h3`,{id:`%E5%9B%BD%E9%99%85%E5%8C%96%E8%AF%AD%E8%A8%80%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98`},[s(`国际化语言渲染问题`),f(`a`,{name:`%E5%9B%BD%E9%99%85%E5%8C%96%E8%AF%AD%E8%A8%80%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98`,class:`headerlink`,href:`#%E5%9B%BD%E9%99%85%E5%8C%96%E8%AF%AD%E8%A8%80%E6%B8%B2%E6%9F%93%E9%97%AE%E9%A2%98`})],-1),d[130]||=f(`p`,null,[s(`在 `),f(`code`,null,`nextjs-ssr`),s(` 中，项目以 SSR 方式运行，在页面请求来临的同时，读取 cookies 就能知晓当前浏览器的语言设置信息，接着就能渲染出对应语言的页面并返回。`)],-1),d[131]||=f(`p`,null,`对于用户来说，当选择英文，首屏返回的页面就英文；选择了中文，返回的就是中文页面。`,-1),d[132]||=f(`p`,null,[s(`而对于静态部署的 `),f(`code`,null,`nextjs-static`),s(`，并没有动态渲染的能力，页面只有在返回到浏览后才能从 cookies 中读取到语言设置信息，进而将页面切换成对应的语言。`)],-1),d[133]||=f(`p`,null,[s(`页面总有个初始语言，可是这样一来打开页面会有个语言切换的现象（默认语言与实际语言不符），但这个也不好避免。所以，`),f(`code`,null,`nextjs-static`),s(` 中的操作是一概将 Server 的国际化输出设置成 `),f(`code`,null,`...`),s(`，待脚本加载后会自动读取并切换成对应的语言。`)],-1),d[134]||=f(`h2`,{id:`%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98`},[s(`其他问题`),f(`a`,{name:`%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98`,class:`headerlink`,href:`#%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98`})],-1),d[135]||=f(`h3`,{id:`SSR%20%E9%83%A8%E7%BD%B2%E6%9C%9F%E9%97%B4%E7%9A%84%E9%97%AE%E9%A2%98`},[s(`SSR 部署期间的问题`),f(`a`,{name:`SSR%20%E9%83%A8%E7%BD%B2%E6%9C%9F%E9%97%B4%E7%9A%84%E9%97%AE%E9%A2%98`,class:`headerlink`,href:`#SSR%20%E9%83%A8%E7%BD%B2%E6%9C%9F%E9%97%B4%E7%9A%84%E9%97%AE%E9%A2%98`})],-1),d[136]||=f(`p`,null,[s(`在部署期间发生了一个由 `),f(`code`,null,`host`),s(` 字段引发的问题，导致 SSR 层的请求发生错误。`)],-1),d[137]||=f(`p`,null,[s(`结合开头的时序图可以看到，发起 GraphQL 请求的角色有浏览器和 SSR 层，而 SSR 层发起请求时都来源于一个页面的访问。比如，访问主页 `),f(`code`,null,`/`),s(`（不是通过其他前端路由跳转来的），而且主页组件在 `),f(`code`,null,`getInitialProps`),s(` 生命周期中有请求，那么该请求会在 SSR 层发起。同样，这个请求需要携带 token、language 标识等信息，这些信息来源于页面请求的 Header，这步操作见代码。`)],-1),d[138]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},"// `packages/shared/src/layouts/ApolloWrap/index.tsx`")]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` authLink`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` setContext`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D7DBE0`,"--shiki-dark-font-style":`italic`}},`_`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D7DBE0`,"--shiki-dark-font-style":`italic`}},` headers`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` }`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`  // 这里用于添加自定义的 headers 字段`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`  const`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},` reqHeaders`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C5E478`,"--shiki-dark-font-style":`italic`}},` any`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D6DEEB`,"--shiki-dark-font-style":`italic`}},` process`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#BAEBE2`,"--shiki-dark-font-style":`italic`}},`browser`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    ?`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {}`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`    :`),f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},` // 当在 Server 端的时候，将来自 browser 的 headers 携带过去`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`      // host 也被包含在内。`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`      getProp`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`()`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D6DEEB`,"--shiki-dark-font-style":`italic`}},` ctx`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#FAF39F`,"--shiki-dark-font-style":`italic`}},`req`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`.`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#BAEBE2`,"--shiki-dark-font-style":`italic`}},`headers`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {}`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`  return`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#C792EA`,"--shiki-dark-font-style":`italic`}},`    headers`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`:`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`      ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D6DEEB`,"--shiki-dark-font-style":`italic`}},`headers`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`      ...`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#D6DEEB`,"--shiki-dark-font-style":`italic`}},`reqHeaders`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`    }`),f(`span`,{style:{"--shiki-light":`#212121`,"--shiki-dark":`#C792EA`}},`,`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`  };`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#C792EA`}},`}`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`);`)])])],-1),d[139]||=f(`p`,null,[s(`这里的 `),f(`code`,null,`ctx.req`),s(` 具体指的就是 `),f(`code`,null,`访问主页 /`),s(` 这次请求。接着，请求被发往 gql-server。`)],-1),d[140]||=f(`p`,null,[s(`这里需要补充一下部署时候的具体情况，`),f(`code`,null,`nextjs-ssr`),s(` 和 `),f(`code`,null,`gql-server`),s(` 运行于 Docker 容器当中，同时在一个物理机上，通过 Nginx 转发请求。`)],-1),d[141]||=f(`p`,null,`那么上述流程会是这样。`,-1),d[142]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,null,"1. 访问主页 `http://customer.example.com/`，发送请求到 `nextjs-ssr`")]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`    请求内容：`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`      url: http://customer.example.com/`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`      headers:`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`        host:  http://customer.example.com/`)]),s(`
`),f(`span`,{class:`line`},[f(`span`)]),s(`
`),f(`span`,{class:`line`},[f(`span`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,"2. Nginx 将请求转发到 nextjs-ssr，nextjs-ssr 发出 `getInitialProps` 中的请求")]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`    请求内容：`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`      url: http://gql-server.example.com/`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`      headers:`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`        host:  http://customer.example.com/`)]),s(`
`),f(`span`,{class:`line`},[f(`span`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,"3. Nginx 收到请求，发现 host 字段，又将请求转发到 `http://customer.example.com/`")]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`    Nginx 默认配置在请求 URL 和 host 字段之间会以 host 优先`)]),s(`
`),f(`span`,{class:`line`},[f(`span`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,null,`4. ... 死循环了，最终因为重定向过多，Nginx 返回对应错误码`)])])],-1),d[143]||=f(`p`,null,`上述问题的解决很简单，将 host 置空或设置成正确的值。关于 host 字段的作用，我的认识如下。`,-1),d[144]||=f(`p`,null,`一个域名会被解析成 IP 对应到一台服务器，但这一台服务器上可能存在多个服务，在内部可以通过端口来区分，但出于各种原因，这台服务器往往只对外暴露部分端口，外部访问者这时候就可以额外通过 host 字段告诉服务器想要访问的服务。`,-1),d[145]||=f(`h2`,{id:`GraphQL%20%E6%9C%8D%E5%8A%A1`},[s(`GraphQL 服务`),f(`a`,{name:`GraphQL%20%E6%9C%8D%E5%8A%A1`,class:`headerlink`,href:`#GraphQL%20%E6%9C%8D%E5%8A%A1`})],-1),d[146]||=f(`p`,null,`GraphQL 的搭建基本是一个学习的过程，虽然写过一些 Node.js 脚本，但对于 Node.js Server 的应用还是知之甚少。`,-1),d[147]||=f(`p`,null,[s(`在编写完 demo 之后，感觉这个 `),f(`code`,null,`gql-server`),s(` 不算复杂，可能因为这个服务做的事情还是比较纯粹，只提供 GraphQL 服务。`)],-1),d[148]||=f(`p`,null,`各种框架都有对应的方案，可以是 express、koa 等等，这里选择了 fastify，再结合相应的 apollo-server，最后添加 GraphQL 的 schema 即可。`,-1),d[149]||=f(`p`,null,`以上，都是马后炮 😅。`,-1),d[150]||=f(`p`,null,`不过值得一提的是，这里有一个库，让 GraphQL 和 TypeScript 的结合变得十分美好。不过在介绍之前，先了解一下痛点。`,-1),d[151]||=f(`p`,null,`了解过 GraphQL 之后会知道，GraphQL 的一大特点是强类型依赖，所以需要为服务编写很多的类型定义。`,-1),d[152]||=f(`p`,null,`一开始的时候，老老实实在 graphql 文件中编写 GraphQL 的类型定义。然后，在 TypeScript 中又要写一遍类型定义，显得很重复。而且，写下来后会发现两者十分相似。`,-1),f(`p`,null,[d[65]||=s(`于是，开始寻找优化方案，从而发现了 `,-1),a(c,{target:`_blank`,href:`https://github.com/19majkel94/type-graphql`},{default:o(()=>[...d[64]||=[s(`type-graphql`,-1)]]),_:1}),d[66]||=s(`，结合了两者的使用。`,-1)]),d[153]||=f(`blockquote`,null,[f(`p`,null,`提前说明注意点：该库十分依赖装饰器语法和元数据（Decorator Metadata），两者目前为止都还没成为标准，正式使用需慎重。`)],-1),d[154]||=f(`p`,null,`在 type-graphql 的基础上，只需要在 TypeScript 中编写 class 即可，class 会被转化为对应的 GraphQL 类型。`,-1),d[155]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#82AAFF`}},`@`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`ObjectType`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`()`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`class`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#FFCB8B`}},` Recipe`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#82AAFF`}},`  @`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`Field`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`type`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#82AAFF`}},` ID`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`)`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  id`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},` string`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#82AAFF`}},`  @`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`Field`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`()`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  title`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},` string`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#82AAFF`}},`  @`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`Field`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`(`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D7DBE0`}},`type`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D9F5DD`}},`)`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},` =>`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` [Rate])`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  ratings`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`:`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#FFCB8B`}},` Rate`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`[];`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#82AAFF`}},`  @`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`Field`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`({ nullable`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#D6DEEB`}},`:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#FF5874`}},` true`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` })`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  averageRating`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`?:`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#C5E478`}},` number`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`;`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`}`)])])],-1),d[156]||=f(`p`,null,`上面的 class 会被转换成如下的类型。`,-1),d[157]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#C792EA`}},`type`),f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-dark":`#D6DEEB`}},` Recipe`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` {`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  id: ID!`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  title: String!`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  ratings: [Rate!]!`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`  averageRating: Float`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`}`)])])],-1),d[158]||=f(`p`,null,`剩余的、也是主要的工作就是编写 resolvers。`,-1),d[159]||=f(`h2`,{id:`%E7%BB%93%E8%AF%AD`},[s(`结语`),f(`a`,{name:`%E7%BB%93%E8%AF%AD`,class:`headerlink`,href:`#%E7%BB%93%E8%AF%AD`})],-1),d[160]||=f(`p`,null,`本文也终于到了结束的时候，总感觉还有遗漏的地方，只怪总结得不够及时。`,-1),d[161]||=f(`p`,null,`本文的 demo 基本是在老大哥（没错，又是那个杰哥）的基础上复刻的，本文最大的意义就是尽可能地将上述内容消化成自己的东西。如果能帮到此时的您，那更是本文的荣幸。`,-1),d[162]||=f(`p`,null,`对于 SSR 感受还是不错的，首屏的体验也是实打实的；如果觉得添加一个 Node.js 有成本，也十分建议尝试 Prerender，同样能享受到首屏的效果。`,-1),d[163]||=f(`p`,null,`对于 GraphQL 中间层的感受就有点爱恨交加了。字段查询、接口聚合、返回体自定义（不用忍受后端 😜）等功能都很好用，但是，得有人去维护一个个接口的对接，这一步也只能前端去做。不过总体而言还是很乐意去使用的。`,-1),d[164]||=f(`p`,null,`本文罗里吧嗦地也写了不少，若发现不当之处，还望斧正，感激不尽！`,-1),d[165]||=f(`hr`,null,null,-1),d[166]||=f(`p`,null,`参考链接 & 推荐阅读：`,-1),f(`ul`,null,[f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/zeit/next.js`},{default:o(()=>[...d[67]||=[s(`Next.js`,-1)]]),_:1}),f(`ul`,null,[f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/zeit/next.js/tree/canary/examples`},{default:o(()=>[...d[68]||=[s(`Next.js 官方 examples，十分推荐`,-1)]]),_:1})])])]),f(`li`,null,[a(c,{target:`_blank`,href:`https://graphql.org/`},{default:o(()=>[...d[69]||=[s(`GraphQL`,-1)]]),_:1}),d[71]||=s(` - `,-1),a(c,{target:`_blank`,href:`https://graphql.cn/`},{default:o(()=>[...d[70]||=[s(`中文`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://www.apollographql.com/docs/`},{default:o(()=>[...d[72]||=[s(`Apollo GraphQL`,-1)]]),_:1}),f(`ul`,null,[f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/apollographql/react-apollo/`},{default:o(()=>[...d[73]||=[s(`Apollo React`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/apollographql/apollo-client`},{default:o(()=>[...d[74]||=[s(`Apollo Client`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/apollographql/apollo-server`},{default:o(()=>[...d[75]||=[s(`Apollo Server`,-1)]]),_:1})])])]),f(`li`,null,[a(c,{target:`_blank`,href:`https://babeljs.io/docs/en/config-files#project-wide-configuration`},{default:o(()=>[...d[76]||=[s(`Babel - Config Files`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://github.com/fastify/fastify`},{default:o(()=>[...d[77]||=[s(`Fastify`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://stackoverflow.com/questions/43156023/what-is-http-host-header`},{default:o(()=>[...d[78]||=[s(`what-is-http-host-header`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host`},{default:o(()=>[...d[79]||=[s(`Host - MDN`,-1)]]),_:1})])])]),_:1})]),e(x).length?(n(),u(`aside`,{key:0,class:t([e(S).showIndexSidebar?`bg-[#00000080]`:`pointer-events-none`,`fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300`,`lg:pointer-events-auto`,`lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]`]),onClick:d[0]||=(...e)=>l.hideIndexSidebar&&l.hideIndexSidebar(...e)},[f(`nav`,{class:t([`overflow-y-auto text-foreground overscroll-contain bg-background`,`w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl`,`absolute top-0 transition-300 right-0`,e(S).showIndexSidebar?`translate-x-0`:`translate-x-full`,`lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none`,`lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0`])},[d[167]||=f(`h2`,{class:`mb-2 font-bold lg:hidden`},`TABLE OF CONTENTS`,-1),a(m,{toc:e(x)},null,8,[`toc`])],2)],2)):i(``,!0)]),d[168]||=f(`hr`,{class:`border-border mt-10`},null,-1),e(b).comments?(n(),u(`div`,y,[a(p)])):i(``,!0)],64))}}),[[`__scopeId`,`data-v-536f64e7`]]);export{b as default};