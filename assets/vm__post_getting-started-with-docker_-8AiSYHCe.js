import{L as e,R as t,T as n,c as r,f as i,h as a,j as o,m as s,n as c,o as l,p as u,t as d,u as f}from"./app-DvX1Smg_.js";import"./isObject-STXFNBUz.js";import"./isSymbol-CUbBZ03s.js";import"./toNumber-CiYTsHHK.js";import"./now-BXsIGwzm.js";import{n as p,t as m}from"./toc-DNILfFl5.js";import{n as h,t as g}from"./meta-info-C-tMy3g2.js";import{t as _}from"./use-page-title-CHxbaOlI.js";var v={class:`relative`},y={key:0,class:`mt-10`},b=l(Object.assign({name:`Article`},{__name:`vm:_post_getting-started-with-docker_`,setup(l){_({title:`Docker 入门笔记`,description:``});let{meta:b,toc:x}={meta:{title:`Docker 入门笔记`,date:`2019-07-01T19:52:55.000Z`,id:`getting-started-with-docker`,categories:[`DevOps`,`Docker`],keywords:[`Docker`],description:null,tags:[`Docker`],sort:0,comments:!0,draft:!1},toc:[{id:`%E5%AE%89%E8%A3%85`,text:`安装`,level:2,children:[],parent:``},{id:`%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5`,text:`容器的增、删、查`,level:2,children:[],parent:``},{id:`%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84`,text:`容器端口、文件映射`,level:2,children:[],parent:``},{id:`%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image`,text:`使用 Dockerfile 构建 image`,level:2,children:[],parent:``},{id:`%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8`,text:`进入容器`,level:2,children:[],parent:``},{id:`%E7%BB%93%E8%AF%AD`,text:`结语`,level:2,children:[],parent:``}]},{appState:S}=d();return(l,d)=>(n(),u(r,null,[f(`div`,v,[f(`article`,null,[f(`header`,null,[d[1]||=f(`h1`,{class:`text-foreground text-3xl font-bold mb-4`},` Docker 入门笔记 `,-1),a(g,{meta:e(b)},null,8,[`meta`])]),a(h,{class:`mt-6`},{default:o(()=>[d[20]||=f(`p`,null,`本文是学习 Docker 时的初学者记录，内容是关于 Docker 基本命令的使用。如果您对此已经熟悉，大可略过本文。`,-1),d[21]||=f(`a`,{id:`more`,href:`#more`,class:`block`},null,-1),d[22]||=f(`p`,null,`Docker 是什么？我将其简单理解为一种容器技术。我尝试用以下场景来描述这个技术。`,-1),d[23]||=f(`p`,null,`常常会有这样的情况，将代码分享给别人，别人却跑不起来。而在代码相同的情况下，这往往是环境差异导致的，也就是常说的“这在我电脑上是好的”。那么，换一种方式。我将代码的结果（比如一些需构建的项目结果）、各种配置（环境变量、项目配置）放进一种可运行的容器中；而后，确保该容器可正常运行；最后，将容器分享给他人。此时，他人只需要启动容器即可。`,-1),f(`p`,null,[d[3]||=s(`Docker 就是这么一种技术。实际上，用于分享的是 image（镜像），container（容器）通过 image 生成、运行于本机，最终的项目也是运行于容器当中。接下来可以看看`,-1),a(c,{target:`_blank`,href:`http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html`},{default:o(()=>[...d[2]||=[s(`阮一峰`,-1)]]),_:1}),d[4]||=s(`更为专业、清晰的描述：`,-1)]),d[24]||=f(`blockquote`,null,[f(`p`,null,`Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容器解决方案。`),f(`p`,null,`Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。`),f(`p`,null,`总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。`)],-1),d[25]||=f(`h2`,{id:`%E5%AE%89%E8%A3%85`},[s(`安装`),f(`a`,{name:`%E5%AE%89%E8%A3%85`,class:`headerlink`,href:`#%E5%AE%89%E8%A3%85`})],-1),d[26]||=f(`p`,null,`目前的系统是 macOS Mojave，所以直接通过 brew 安装。`,-1),d[27]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` brew`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` cask`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` install`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`)])])],-1),d[28]||=f(`h2`,{id:`%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5`},[s(`容器的增、删、查`),f(`a`,{name:`%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5`,class:`headerlink`,href:`#%E5%AE%B9%E5%99%A8%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5`})],-1),d[29]||=f(`p`,null,`首先学习一下基本操作。`,-1),d[30]||=f(`p`,null,[s(`启动一个 Nginx 的镜像（下一节对此有说明），官方镜像名为 `),f(`code`,null,`nginx`),s(`。如果本地没有该镜像，Docker 会自动进行拉取再启动。注意，不添加 `),f(`code`,null,`--rm`),s(` 的每次启动都会创建一个新的容器。`)],-1),d[31]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` run`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx`)])])],-1),d[32]||=f(`p`,null,`此时启动的进程是常驻控制台的，可以通过以下命令在后台的方式启动。`,-1),d[33]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 使用 -d 可设置容器在后台运行`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` run`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -d`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx`)])])],-1),d[34]||=f(`p`,null,`查看容器。可以看到容器 ID、对应的镜像、状态等信息。`,-1),d[35]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 添加 -a 列出所有容器`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 默认只列出本机正在运行的容器`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ps`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -a`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`CONTAINER`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ID`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        IMAGE`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               COMMAND`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                  CREATED`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              STATUS`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                      PORTS`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               NAMES`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`9752e761d34d`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        nginx`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`               "`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`nginx -g 'daemon of…`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`"`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`   32`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`       Exited`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},` (0) 22 seconds ago                       brave_noether`)])])],-1),d[36]||=f(`p`,null,`查看镜像，列出本机镜像的信息。`,-1),d[37]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` image`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ls`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`REPOSITORY`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`          TAG`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                 IMAGE`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ID`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`            CREATED`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`             SIZE`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               latest`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              719cd2e3ed04`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        2`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` weeks`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`         109MB`)])])],-1),d[38]||=f(`p`,null,[s(`如果容器正在后台运行，可以通过 `),f(`code`,null,`kill`),s(` 或 `),f(`code`,null,`stop`),s(` 停止正在运行的容器。`)],-1),d[39]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 指定容器 ID`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` kill`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 9752e761d34d`)])])],-1),d[40]||=f(`p`,null,[s(`通过 `),f(`code`,null,`start`),s(` 命令启动一个已存在的容器。`)],-1),d[41]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` start`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 9752e761d34d`)])])],-1),d[42]||=f(`p`,null,[s(`通过 `),f(`code`,null,`rm`),s(` 删除容器。`)],-1),d[43]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` rm`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 9752e761d34d`)])])],-1),d[44]||=f(`h2`,{id:`%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84`},[s(`容器端口、文件映射`),f(`a`,{name:`%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84`,class:`headerlink`,href:`#%E5%AE%B9%E5%99%A8%E7%AB%AF%E5%8F%A3%E3%80%81%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84`})],-1),d[45]||=f(`p`,null,`启动一了个 Nginx 的镜像到底是什么情况？此时有一个容器在机子上跑着，同时有一个 Nginx 服务在这个容器里跑着。而事实上，提供服务的是当前这台机子；目前这种情况，用户是无法访问到 Nginx 服务的。接下来的设置，让容器内的服务能够对外开放。`,-1),d[46]||=f(`p`,null,[s(`停止容器并按照如下命令重新启动。`),f(`code`,null,`-d`),s(` 参数让容器在后台运行；`),f(`code`,null,`-p 8088:80`),s(` 配置端口映射，让容器内的 80 和本机的 8088 端口进行映射（Nginx 服务的默认端口为 80）；`),f(`code`,null,`--rm`),s(` 表示在该容器停止后自动进行删除；`),f(`code`,null,`--name`),s(` 为容器命名，如此一来存在多个容器时能够一眼辨识。`)],-1),d[47]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` run`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  -d`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  -p`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 8088:80`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  --rm`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  --name`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` mynginx`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`  nginx`)])])],-1),f(`p`,null,[d[6]||=s(`启动完成后访问 `,-1),a(c,{target:`_blank`,href:`http://localhost:8088`},{default:o(()=>[...d[5]||=[s(`http://localhost:8088`,-1)]]),_:1}),d[7]||=s(`， 可以看到 Nginx 的欢迎页面，说明容器、Nginx 都已经成功启动，端口映射也没有问题。`,-1)]),d[48]||=f(`p`,null,`不过访问其他路由都是 404，因为容器内此时只是个空白的 Nginx 服务。接下来将本地静态目录挂载到容器内，让容器内访问到外面的文件，更新文件内容时，容器内也是同步更改的。`,-1),d[49]||=f(`p`,null,[s(`在当前路径创建一个文件夹 `),f(`code`,null,`nginx-demo`),s(`，添加 html 文件 `),f(`code`,null,`html/a.html`),s(`。重新按照如下命令参数启动容器。`),f(`code`,null,`--volume`),s(` 把 `),f(`code`,null,`html`),s(` 目录映射到容器的网页文件目录 `),f(`code`,null,`/usr/share/nginx/html`),s(`。`)],-1),d[50]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` run`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  -d`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  -p`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 8088:80`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  --rm`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  --volume`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` "`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#C5E478`}},`$PWD`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`/nginx-demo/html`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`"`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`:/usr/share/nginx/html`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},`  --name`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` mynginx`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#F78C6C`}},` \\`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`  nginx`)])])],-1),f(`p`,null,[d[9]||=s(`此时访问 `,-1),a(c,{target:`_blank`,href:`http://localhost:8088/a.html`},{default:o(()=>[...d[8]||=[s(`http://localhost:8088/a.html`,-1)]]),_:1}),d[10]||=s(` 可以看到对应页面，目录映射成功。修改 html 文件，刷新页面也能看到预期的变化。`,-1)]),d[51]||=f(`h2`,{id:`%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image`},[s(`使用 Dockerfile 构建 image`),f(`a`,{name:`%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image`,class:`headerlink`,href:`#%E4%BD%BF%E7%94%A8%20Dockerfile%20%E6%9E%84%E5%BB%BA%20image`})],-1),d[52]||=f(`p`,null,`本文记录了两种创建镜像的方式：`,-1),d[53]||=f(`ol`,null,[f(`li`,null,`直接通过 Dockerfile 进行构建`),f(`li`,null,`通过现有容器生成新的镜像`)],-1),d[54]||=f(`p`,null,`本小节描述了第一种方式，第二种会在下节的内容中出现。`,-1),d[55]||=f(`p`,null,`现在开始用 Dockerfile 来构建 image。Dockerfile 是一个文本文件，用来配置 image。Docker 根据该文件生成二进制的 image 文件。`,-1),d[56]||=f(`p`,null,[s(`进入 nginx-demo 目录，在根目录创建 `),f(`code`,null,`.dockerignore`),s(`、`),f(`code`,null,`Dockerfile`),s(`，目录结构参考如下：`)],-1),d[57]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`├──`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` .dockerignore`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`├──`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` Dockerfile`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`└──`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` html`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`    └──`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` a.html`)])])],-1),d[58]||=f(`p`,null,[f(`code`,null,`.dockerignore`),s(` 表示，打包 image 的时候忽略列出的内容：`)],-1),d[59]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# .dockerignore`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`.git`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`*`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`.log`)])])],-1),d[60]||=f(`p`,null,[s(`一个简单的 `),f(`code`,null,`Dockerfile`),s(` 如下：`)],-1),d[61]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# Dockerfile`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# FROM`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 表示该镜像继承自官方的 nginx 镜像，版本为最新`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`FROM`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx:latest`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# COPY`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 将 ./html 目录下的所有文件（除了.dockerignore 排除的路径）`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 都拷贝到 image 文件的 /usr/share/nginx/html 目录`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`COPY`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ./html`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` /usr/share/nginx/html`)]),s(`
`),f(`span`,{class:`line`}),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 将容器 80 端口暴露出来， 允许外部连接这个端口`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`EXPOSE`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},` 80`)])])],-1),f(`blockquote`,null,[f(`p`,null,[a(c,{target:`_blank`,href:`https://devdocs.io/docker~17/engine/userguide/eng-image/dockerfile_best-practices/index`},{default:o(()=>[...d[11]||=[s("`Dockerfile` 的更多选项可参考这里",-1)]]),_:1}),d[12]||=s(`。`,-1)])]),d[62]||=f(`p`,null,`创建 image 文件。`,-1),d[63]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# -t 参数用来指定 image 文件的名字, . 表示当前路径（也可以指定 Dockerfile 的路径）`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` image`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` build`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -t`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx-demo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` .`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 或者添加冒号记录版本信息`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` image`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` build`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -t`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx-demo:0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` .`)])])],-1),d[64]||=f(`p`,null,`此时就可以看到刚刚添加的镜像。`,-1),d[65]||=f(`p`,null,`查看 images。`,-1),d[66]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` images`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`REPOSITORY`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`          TAG`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                 IMAGE`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ID`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`            CREATED`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`             SIZE`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`          0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               fdd278ef340c`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        22`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`      109MB`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`          latest`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              fdd278ef340c`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        22`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`      109MB`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               latest`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              719cd2e3ed04`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        2`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` weeks`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`         109MB`)])])],-1),d[67]||=f(`p`,null,`在自定义的 image 上运行容器。`,-1),d[68]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 通过 nginx-demo:0.0.1 的 image 启动容器，并映射端口`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` run`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -d`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -p`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 8088:80`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` --rm`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx-demo:0.0.1`)])])],-1),f(`p`,null,[d[14]||=s(`访问 `,-1),a(c,{target:`_blank`,href:`http://localhost:8088/a.html`},{default:o(()=>[...d[13]||=[s(`http://localhost:8088/a.html`,-1)]]),_:1}),d[15]||=s(` 可以看到相应页面。`,-1)]),d[69]||=f(`p`,null,[f(`strong`,null,`注意此时没有映射文件目录，看到的页面已经是 image 里的内容了。这时候即使修改本机上的 a.html，页面也不会有变化。`)],-1),d[70]||=f(`p`,null,`创建好 image，就可以把它上传到仓库，这样他人就能方便地进行下载。`,-1),d[71]||=f(`h2`,{id:`%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8`},[s(`进入容器`),f(`a`,{name:`%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8`,class:`headerlink`,href:`#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8`})],-1),d[72]||=f(`p`,null,`容器内可看作是一个微型虚拟机，可以进入容器进行一些操作。`,-1),d[73]||=f(`p`,null,[s(`使用 `),f(`code`,null,`docker ps`),s(` 找到刚刚启动容器的 ID。`)],-1),d[74]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ps`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`CONTAINER`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ID`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        IMAGE`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               COMMAND`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                  CREATED`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`             STATUS`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              PORTS`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                  NAMES`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`53d51b734e3f`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        nginx-demo:0.0.1`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`    "`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`nginx -g 'daemon of…`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`"`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`   12`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`      Up`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},` 11`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`       0.0.0.0:8088`),f(`span`,{style:{"--shiki-light":`#24292EFF`,"--shiki-dark":`#D6DEEB`}},`-`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},`>`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`80/tcp`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`   zealous_nobel`)])])],-1),d[75]||=f(`p`,null,`进入容器并打开容器的终端：`,-1),d[76]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` container`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` exec`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#82AAFF`}},` -it`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 53d51b734e3f`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` /bin/bash`)])])],-1),d[77]||=f(`p`,null,[s(`这一步找到容器内的 a.html，并尝试进行修改（以下的 `),f(`code`,null,`$`),s(` 实际上显示的是 `),f(`code`,null,`#`),s(`，但在渲染时会变成注释，所以替换了一下 ）。`)],-1),d[78]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`root@53d51b734e3f:/$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` cd`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` /usr/share/nginx/html/`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`root@53d51b734e3f:/usr/share/nginx/html$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ls`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`50x.html`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`  a.html`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`  index.html`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 修改文件内容`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`root@53d51b734e3f:/usr/share/nginx/html$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` echo`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},` '`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#ECC48D`}},`hello world`),f(`span`,{style:{"--shiki-light":`#22863A`,"--shiki-dark":`#D9F5DD`}},`'`),f(`span`,{style:{"--shiki-light":`#D32F2F`,"--shiki-dark":`#7FDBCA`}},` >`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` a.html`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# 退出容器`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`root@53d51b734e3f:/usr/share/nginx/html$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` exit`)])])],-1),d[79]||=f(`p`,null,`退出容器、查看页面，能看到更新后的内容。`,-1),d[80]||=f(`blockquote`,null,[f(`p`,null,[s(`上述使用 `),f(`code`,null,`docker exec -it ID /bin/bash`),s(` 进入容器并执行 `),f(`code`,null,`/bin/bash`),s(`，很是在 alpine 中没有 `),f(`code`,null,`/bin/bash`),s(` 文件，不过改成\xA0`),f(`code`,null,`docker exec -it ID sh`),s(`\xA0就能进入并启动终端了。`)])],-1),d[81]||=f(`p`,null,[f(`strong`,null,`注意此时修改的是容器内的文件，当容器停止后修改的内容就会丢失。`)],-1),d[82]||=f(`p`,null,[s(`接下来通过当前容器创建一个新的 image 以保存修改，使用 `),f(`code`,null,`docker commit`),s(` 命令。`)],-1),d[83]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#C2C3C5`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#637777`,"--shiki-dark-font-style":`italic`}},`# docker commit [容器ID]      [新镜像名] :[TAG]`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` commit`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` 53d51b734e3f`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` nginx-demo:0.0.2`)])])],-1),d[84]||=f(`p`,null,`查看现在的镜像情况。`,-1),d[85]||=f(`pre`,{class:`shiki shiki-themes min-light night-owl`,style:{"--shiki-light":`#24292eff`,"--shiki-dark":`#d6deeb`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#011627`},tabindex:`0`},[f(`code`,null,[f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`$`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` docker`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` images`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`REPOSITORY`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`          TAG`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`                 IMAGE`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ID`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`            CREATED`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`             SIZE`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`          0.0.2`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               be392c708cb9`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        3`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` seconds`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`       109MB`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`          0.0.1`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               fdd278ef340c`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        16`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` hours`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        109MB`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx-demo`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`          latest`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              fdd278ef340c`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        16`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` hours`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`        109MB`)]),s(`
`),f(`span`,{class:`line`},[f(`span`,{style:{"--shiki-light":`#6F42C1`,"--shiki-light-font-style":`inherit`,"--shiki-dark":`#82AAFF`,"--shiki-dark-font-style":`italic`}},`nginx`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`               latest`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`              719cd2e3ed04`),f(`span`,{style:{"--shiki-light":`#1976D2`,"--shiki-dark":`#F78C6C`}},`        3`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` weeks`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},` ago`),f(`span`,{style:{"--shiki-light":`#2B5581`,"--shiki-dark":`#ECC48D`}},`         109MB`)])])],-1),d[86]||=f(`p`,null,`停止正在运行的容器，分别以不同的镜像启动、查看页面内容。`,-1),d[87]||=f(`h2`,{id:`%E7%BB%93%E8%AF%AD`},[s(`结语`),f(`a`,{name:`%E7%BB%93%E8%AF%AD`,class:`headerlink`,href:`#%E7%BB%93%E8%AF%AD`})],-1),d[88]||=f(`p`,null,`本文的描述十分简单，只包含了一些基本操作，更多详细的内容可参考文末链接。`,-1),d[89]||=f(`p`,null,`文章多有疏漏，还望读者斧正。`,-1),d[90]||=f(`p`,null,`完。`,-1),d[91]||=f(`hr`,null,null,-1),d[92]||=f(`p`,null,`参考链接 & 相关阅读：`,-1),f(`ul`,null,[f(`li`,null,[a(c,{target:`_blank`,href:`https://www.docker.com`},{default:o(()=>[...d[16]||=[s(`Docker 官网`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html`},{default:o(()=>[...d[17]||=[s(`Docker 入门教程 - 阮一峰`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://devdocs.io/docker~17/`},{default:o(()=>[...d[18]||=[s(`devdocs - docker 17`,-1)]]),_:1})]),f(`li`,null,[a(c,{target:`_blank`,href:`https://www.runoob.com/docker/docker-tutorial.html`},{default:o(()=>[...d[19]||=[s(`菜鸟教程`,-1)]]),_:1})])])]),_:1})]),e(x).length?(n(),u(`aside`,{key:0,class:t([e(S).showIndexSidebar?`bg-[#00000080]`:`pointer-events-none`,`fixed z-20 top-0 w-full h-full left-0 overscroll-contain transition-300`,`lg:pointer-events-auto`,`lg:absolute lg:w-auto lg:bg-transparent lg:left-[calc(100%+clamp(6px,17.1875vw-176px,50px))]`]),onClick:d[0]||=(...e)=>l.hideIndexSidebar&&l.hideIndexSidebar(...e)},[f(`nav`,{class:t([`overflow-y-auto text-foreground overscroll-contain bg-background`,`w-74 max-w-4/5 h-full py-8 px-6 rounded-tl-xl rounded-bl-xl`,`absolute top-0 transition-300 right-0`,e(S).showIndexSidebar?`translate-x-0`:`translate-x-full`,`lg:p-0 lg:max-w-44 xl:max-w-50 lg:h-auto lg:max-h-[calc(100vh-130px)] lg:rounded-none`,`lg:sticky lg:top-10 lg:right-auto lg:translate-x-0 lg:bg-transparent lg:ml-0`])},[d[93]||=f(`h2`,{class:`mb-2 font-bold lg:hidden`},`TABLE OF CONTENTS`,-1),a(m,{toc:e(x)},null,8,[`toc`])],2)],2)):i(``,!0)]),d[94]||=f(`hr`,{class:`border-border mt-10`},null,-1),e(b).comments?(n(),u(`div`,y,[a(p)])):i(``,!0)],64))}}),[[`__scopeId`,`data-v-11d1a840`]]);export{b as default};